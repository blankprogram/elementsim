/*! For license information please see main.1ba22b73.js.LICENSE.txt */
(()=>{var e={672:(e,t,r)=>{"use strict";var n=r(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(a(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=u.T,r=o.p;try{if(u.T=null,o.p=2,e)return e()}finally{u.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=f(r,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):"script"===r&&o.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=f(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=f(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=f(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return u.H.useFormState(e,t,r)},t.useFormStatus=function(){return u.H.useHostTransitionStatus()},t.version="19.0.0"},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)},358:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,s=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function u(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function f(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function c(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function n(e,t,n){var a=null;if(void 0!==n&&(a=""+n),void 0!==t.key&&(a=""+t.key),"key"in t)for(var i in n={},t)"key"!==i&&(n[i]=t[i]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:a,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment"),t.jsx=n,t.jsxs=n},288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}function b(){}function g(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=g.prototype=new b;x.constructor=g,h(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function E(e,t,n,a,i,o){return n=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:o}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var k=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(){}function T(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u,f,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0;break;case d:return T((c=e._init)(e._payload),t,a,i,o)}}if(c)return o=o(e),c=""===i?"."+O(e,0):i,w(o)?(a="",null!=c&&(a=c.replace(k,"$&/")+"/"),T(o,t,a,"",(function(e){return e}))):null!=o&&(_(o)&&(u=o,f=a+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+c,o=E(u.type,f,void 0,0,0,u.props)),t.push(o)),1;c=0;var l,m=""===i?".":i+":";if(w(e))for(var h=0;h<e.length;h++)c+=T(i=e[h],t,a,s=m+O(i,h),o);else if("function"===typeof(h=null===(l=e)||"object"!==typeof l?null:"function"===typeof(l=p&&l[p]||l["@@iterator"])?l:null))for(e=h.call(e),h=0;!(i=e.next()).done;)c+=T(i=i.value,t,a,s=m+O(i,h++),o);else if("object"===s){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function j(e,t,r){if(null==e)return e;var n=[],a=0;return T(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:j,forEach:function(e,t,r){j(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=a,t.Profiler=o,t.PureComponent=g,t.StrictMode=i,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=h({},e.props),a=e.key;if(null!=t)for(i in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!A.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(n[i]=t[i]);var i=arguments.length-2;if(1===i)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return E(e.type,a,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,a={},i=null;if(null!=t)for(n in void 0!==t.key&&(i=""+t.key),t)A.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(a[n]=t[n]);var o=arguments.length-2;if(1===o)a.children=r;else if(1<o){for(var s=Array(o),u=0;u<o;u++)s[u]=arguments[u+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===a[n]&&(a[n]=o[n]);return E(e,i,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:f,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:l,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,r={};S.T=r;try{var n=e(),a=S.S;null!==a&&a(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(M,R)}catch(i){R(i)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,r){return S.H.useActionState(e,t,r)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,r){return S.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return S.H.useReducer(e,t,r)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return S.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return S.H.useTransition()},t.version="19.0.0"},43:(e,t,r)=>{"use strict";e.exports=r(288)},579:(e,t,r)=>{"use strict";e.exports=r(799)},709:function(e){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(e,t){for(var r=Object.keys(t),n=0;n<r.length;++n)e[r[n]]=t[r[n]];return e},r="\n";function n(e){return"undefined"!==typeof atob?atob(e):"base64:"+e}function a(e){var t=new Error("(regl) "+e);throw console.error(t),t}function i(e,t){e||a(t)}function o(e){return e?": "+e:""}function s(e,t,r){e in t||a("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join())}function u(t,r){e(t)||a("invalid parameter type"+o(r)+". must be a typed array")}function f(e,t){switch(t){case"number":return"number"===typeof e;case"object":return"object"===typeof e;case"string":return"string"===typeof e;case"boolean":return"boolean"===typeof e;case"function":return"function"===typeof e;case"undefined":return"undefined"===typeof e;case"symbol":return"symbol"===typeof e}}function c(e,t,r){f(e,t)||a("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e)}function l(e,t){e>=0&&(0|e)===e||a("invalid parameter type, ("+e+")"+o(t)+". must be a nonnegative integer")}function d(e,t,r){t.indexOf(e)<0&&a("invalid value"+o(r)+". must be one of: "+t)}var p=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function m(e){Object.keys(e).forEach((function(e){p.indexOf(e)<0&&a('invalid regl constructor argument "'+e+'". must be one of '+p)}))}function h(e,t){for(e+="";e.length<t;)e=" "+e;return e}function v(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function y(e,t){this.number=e,this.line=t,this.errors=[]}function b(e,t,r){this.file=e,this.line=t,this.message=r}function g(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function x(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function w(e,t){var r=e.split("\n"),a=1,i=0,o={unknown:new v,0:new v};o.unknown.name=o[0].name=t||g(),o.unknown.lines.push(new y(0,""));for(var s=0;s<r.length;++s){var u=r[s],f=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);if(f)switch(f[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(f[2]);c&&(a=0|c[1],c[2]&&((i=0|c[2])in o||(o[i]=new v)));break;case"define":var l=/SHADER_NAME(_B64)?\s+(.*)$/.exec(f[2]);l&&(o[i].name=l[1]?n(l[2]):l[2])}o[i].lines.push(new y(a++,u))}return Object.keys(o).forEach((function(e){var t=o[e];t.lines.forEach((function(e){t.index[e.number]=e}))})),o}function S(e){var t=[];return e.split("\n").forEach((function(e){if(!(e.length<5)){var r=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(e);r?t.push(new b(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new b("unknown",0,e))}})),t}function A(e,t){t.forEach((function(t){var r=e[t.file];if(r){var n=r.index[t.line];if(n)return n.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)}))}function E(e,t,n,a,o){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var s=e.getShaderInfoLog(t),u=a===e.FRAGMENT_SHADER?"fragment":"vertex";D(n,"string",u+" shader source must be a string",o);var f=w(n,o),c=S(s);A(f,c),Object.keys(f).forEach((function(e){var t=f[e];if(t.hasErrors){var n=[""],a=[""];i("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach((function(e){if(e.errors.length>0){i(h(e.number,4)+"|  ","background-color:yellow; font-weight:bold"),i(e.line+r,"color:red; background-color:yellow; font-weight:bold");var t=0;e.errors.forEach((function(n){var a=n.message,o=/^\s*'(.*)'\s*:\s*(.*)$/.exec(a);if(o){var s=o[1];a=o[2],"assign"===s&&(s="="),t=Math.max(e.line.indexOf(s,t),0)}else t=0;i(h("| ",6)),i(h("^^^",t+3)+r,"font-weight:bold"),i(h("| ",6)),i(a+r,"font-weight:bold")})),i(h("| ",6)+r)}else i(h(e.number,4)+"|  "),i(e.line+r,"color:red")})),"undefined"===typeof document||window.chrome?console.log(n.join("")):(a[0]=n.join("%c"),console.log.apply(console,a))}function i(e,t){n.push(e),a.push(t||"")}})),i.raise("Error compiling "+u+" shader, "+f[0].name)}}function _(e,t,n,a,o){if(!e.getProgramParameter(t,e.LINK_STATUS)){var s=e.getProgramInfoLog(t),u=w(n,o),f='Error linking program with vertex shader, "'+w(a,o)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!==typeof document?console.log("%c"+f+r+"%c"+s,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(f+r+s),i.raise(f)}}function k(e){e._commandRef=g()}function O(e,t,r,n){function a(e){return e?n.id(e):0}function i(e,t){Object.keys(t).forEach((function(t){e[n.id(t)]=!0}))}k(e),e._fragId=a(e.static.frag),e._vertId=a(e.static.vert);var o=e._uniformSet={};i(o,t.static),i(o,t.dynamic);var s=e._attributeSet={};i(s,r.static),i(s,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic}function C(e,t){var r=x();a(e+" in command "+(t||g())+("unknown"===r?"":" called from "+r))}function T(e,t,r){e||C(t,r||g())}function j(e,t,r,n){e in t||C("unknown parameter ("+e+")"+o(r)+". possible values: "+Object.keys(t).join(),n||g())}function D(e,t,r,n){f(e,t)||C("invalid parameter type"+o(r)+". expected "+t+", got "+typeof e,n||g())}function R(e){e()}function M(e,t,r){e.texture?d(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):d(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")}var P=33071,L=9728,F=9984,z=9985,I=9986,B=9987,N=5121,V=5122,H=5123,U=5124,W=5125,$=5126,G=32819,q=32820,Y=33635,Q=34042,J=36193,X={};function K(e,t){return e===q||e===G||e===Y?2:e===Q?4:X[e]*t}function Z(e){return!(e&e-1)&&!!e}function ee(e,t,r){var n,a=t.width,o=t.height,s=t.channels;i(a>0&&a<=r.maxTextureSize&&o>0&&o<=r.maxTextureSize,"invalid texture shape"),e.wrapS===P&&e.wrapT===P||i(Z(a)&&Z(o),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==a&&1!==o&&i(e.minFilter!==F&&e.minFilter!==I&&e.minFilter!==z&&e.minFilter!==B,"min filter requires mipmap"):(i(Z(a)&&Z(o),"texture must be a square power of 2 to support mipmapping"),i(t.mipmask===(a<<1)-1,"missing or incomplete mipmap data")),t.type===$&&(r.extensions.indexOf("oes_texture_float_linear")<0&&i(e.minFilter===L&&e.magFilter===L,"filter not supported, must enable oes_texture_float_linear"),i(!e.genMipmaps,"mipmap generation not supported with float textures"));var u=t.images;for(n=0;n<16;++n)if(u[n]){var f=a>>n,c=o>>n;i(t.mipmask&1<<n,"missing mipmap data");var l=u[n];if(i(l.width===f&&l.height===c,"invalid shape for mip images"),i(l.format===t.format&&l.internalformat===t.internalformat&&l.type===t.type,"incompatible type for mip image"),l.compressed);else if(l.data){var d=Math.ceil(K(l.type,s)*f/l.unpackAlignment)*l.unpackAlignment;i(l.data.byteLength===d*c,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else e.genMipmaps||i(0===(t.mipmask&1<<n),"extra mipmap data");t.compressed&&i(!e.genMipmaps,"mipmap generation for compressed images not supported")}function te(e,t,r,n){var a=e.width,o=e.height,s=e.channels;i(a>0&&a<=n.maxTextureSize&&o>0&&o<=n.maxTextureSize,"invalid texture shape"),i(a===o,"cube map must be square"),i(t.wrapS===P&&t.wrapT===P,"wrap mode not supported by cube map");for(var u=0;u<r.length;++u){var f=r[u];i(f.width===a&&f.height===o,"inconsistent cube map face shape"),t.genMipmaps&&(i(!f.compressed,"can not generate mipmap for compressed textures"),i(1===f.mipmask,"can not specify mipmaps and generate mipmaps"));for(var c=f.images,l=0;l<16;++l){var d=c[l];if(d){var p=a>>l,m=o>>l;i(f.mipmask&1<<l,"missing mipmap data"),i(d.width===p&&d.height===m,"invalid shape for mip images"),i(d.format===e.format&&d.internalformat===e.internalformat&&d.type===e.type,"incompatible type for mip image"),d.compressed||(d.data?i(d.data.byteLength===p*m*Math.max(K(d.type,s),d.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):d.element||d.copy)}}}}X[5120]=X[N]=1,X[V]=X[H]=X[J]=X[Y]=X[G]=X[q]=2,X[U]=X[W]=X[$]=X[Q]=4;var re=t(i,{optional:R,raise:a,commandRaise:C,command:T,parameter:s,commandParameter:j,constructor:m,type:c,commandType:D,isTypedArray:u,nni:l,oneOf:d,shaderError:E,linkError:_,callSite:x,saveCommandRef:k,saveDrawInfo:O,framebufferFormat:M,guessCommand:g,texture2D:ee,textureCube:te}),ne=0,ae=0,ie=5,oe=6;function se(e,t){this.id=ne++,this.type=e,this.data=t}function ue(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function fe(e){if(0===e.length)return[];var t=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&t===r&&('"'===t||"'"===t))return['"'+ue(e.substr(1,e.length-2))+'"'];var n=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(e);if(n)return fe(e.substr(0,n.index)).concat(fe(n[1])).concat(fe(e.substr(n.index+n[0].length)));var a=e.split(".");if(1===a.length)return['"'+ue(e)+'"'];for(var i=[],o=0;o<a.length;++o)i=i.concat(fe(a[o]));return i}function ce(e){return"["+fe(e).join("][")+"]"}function le(e,t){return new se(e,ce(t+""))}function de(e){return"function"===typeof e&&!e._reglType||e instanceof se}function pe(e,t){return"function"===typeof e?new se(ae,e):"number"===typeof e||"boolean"===typeof e?new se(ie,e):Array.isArray(e)?new se(oe,e.map((function(e,r){return pe(e,t+"["+r+"]")}))):e instanceof se?e:void re(!1,"invalid option type in uniform "+t)}var me={DynamicVariable:se,define:le,isDynamic:de,unbox:pe,accessor:ce},he={next:"function"===typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"===typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},ve="undefined"!==typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function ye(){var e={"":0},t=[""];return{id:function(r){var n=e[r];return n||(n=e[r]=t.length,t.push(r),n)},str:function(e){return t[e]}}}function be(e,r,n){var a,i=document.createElement("canvas");function o(){var t=window.innerWidth,r=window.innerHeight;if(e!==document.body){var a=i.getBoundingClientRect();t=a.right-a.left,r=a.bottom-a.top}i.width=n*t,i.height=n*r}function s(){a?a.disconnect():window.removeEventListener("resize",o),e.removeChild(i)}return t(i.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),e.appendChild(i),e===document.body&&(i.style.position="absolute",t(e.style,{margin:0,padding:0})),e!==document.body&&"function"===typeof ResizeObserver?(a=new ResizeObserver((function(){setTimeout(o)}))).observe(e):window.addEventListener("resize",o,!1),o(),{canvas:i,onDestroy:s}}function ge(e,t){function r(r){try{return e.getContext(r,t)}catch(n){return null}}return r("webgl")||r("experimental-webgl")||r("webgl-experimental")}function xe(e){return"string"===typeof e.nodeName&&"function"===typeof e.appendChild&&"function"===typeof e.getBoundingClientRect}function we(e){return"function"===typeof e.drawArrays||"function"===typeof e.drawElements}function Se(e){return"string"===typeof e?e.split():(re(Array.isArray(e),"invalid extension array"),e)}function Ae(e){return"string"===typeof e?(re("undefined"!==typeof document,"not supported outside of DOM"),document.querySelector(e)):e}function Ee(e){var t,r,n,a,i=e||{},o={},s=[],u=[],f="undefined"===typeof window?1:window.devicePixelRatio,c=!1,l=function(e){e&&re.raise(e)},d=function(){};if("string"===typeof i?(re("undefined"!==typeof document,"selector queries only supported in DOM environments"),t=document.querySelector(i),re(t,"invalid query string for element")):"object"===typeof i?xe(i)?t=i:we(i)?n=(a=i).canvas:(re.constructor(i),"gl"in i?a=i.gl:"canvas"in i?n=Ae(i.canvas):"container"in i&&(r=Ae(i.container)),"attributes"in i&&(o=i.attributes,re.type(o,"object","invalid context attributes")),"extensions"in i&&(s=Se(i.extensions)),"optionalExtensions"in i&&(u=Se(i.optionalExtensions)),"onDone"in i&&(re.type(i.onDone,"function","invalid or missing onDone callback"),l=i.onDone),"profile"in i&&(c=!!i.profile),"pixelRatio"in i&&(f=+i.pixelRatio,re(f>0,"invalid pixel ratio"))):re.raise("invalid arguments to regl"),t&&("canvas"===t.nodeName.toLowerCase()?n=t:r=t),!a){if(!n){re("undefined"!==typeof document,"must manually specify webgl context outside of DOM environments");var p=be(r||document.body,l,f);if(!p)return null;n=p.canvas,d=p.onDestroy}void 0===o.premultipliedAlpha&&(o.premultipliedAlpha=!0),a=ge(n,o)}return a?{gl:a,canvas:n,container:r,extensions:s,optionalExtensions:u,pixelRatio:f,profile:c,onDone:l,onDestroy:d}:(d(),l("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function _e(e,t){var r={};function n(t){re.type(t,"string","extension name must be string");var n,a=t.toLowerCase();try{n=r[a]=e.getExtension(a)}catch(i){}return!!n}for(var a=0;a<t.extensions.length;++a){var i=t.extensions[a];if(!n(i))return t.onDestroy(),t.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach((function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)}))}}}function ke(e,t){for(var r=Array(e),n=0;n<e;++n)r[n]=t(n);return r}var Oe=5120,Ce=5121,Te=5122,je=5123,De=5124,Re=5125,Me=5126;function Pe(e){for(var t=16;t<=1<<28;t*=16)if(e<=t)return t;return 0}function Le(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function Fe(){var e=ke(8,(function(){return[]}));function t(t){var r=Pe(t),n=e[Le(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[Le(t.byteLength)>>2].push(t)}function n(e,r){var n=null;switch(e){case Oe:n=new Int8Array(t(r),0,r);break;case Ce:n=new Uint8Array(t(r),0,r);break;case Te:n=new Int16Array(t(2*r),0,r);break;case je:n=new Uint16Array(t(2*r),0,r);break;case De:n=new Int32Array(t(4*r),0,r);break;case Re:n=new Uint32Array(t(4*r),0,r);break;case Me:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n}function a(e){r(e.buffer)}return{alloc:t,free:r,allocType:n,freeType:a}}var ze=Fe();ze.zero=Fe();var Ie=3408,Be=3410,Ne=3411,Ve=3412,He=3413,Ue=3414,We=3415,$e=33901,Ge=33902,qe=3379,Ye=3386,Qe=34921,Je=36347,Xe=36348,Ke=35661,Ze=35660,et=34930,tt=36349,rt=34076,nt=34024,at=7936,it=7937,ot=7938,st=35724,ut=34047,ft=36063,ct=34852,lt=3553,dt=34067,pt=34069,mt=33984,ht=6408,vt=5126,yt=5121,bt=36160,gt=36053,xt=36064,wt=16384,St=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(ut));var n=1,a=1;t.webgl_draw_buffers&&(n=e.getParameter(ct),a=e.getParameter(ft));var i=!!t.oes_texture_float;if(i){var o=e.createTexture();e.bindTexture(lt,o),e.texImage2D(lt,0,ht,1,1,0,ht,vt,null);var s=e.createFramebuffer();if(e.bindFramebuffer(bt,s),e.framebufferTexture2D(bt,xt,lt,o,0),e.bindTexture(lt,null),e.checkFramebufferStatus(bt)!==gt)i=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(wt);var u=ze.allocType(vt,4);e.readPixels(0,0,1,1,ht,vt,u),e.getError()?i=!1:(e.deleteFramebuffer(s),e.deleteTexture(o),i=1===u[0]),ze.freeType(u)}}var f=!0;if("undefined"===typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var c=e.createTexture(),l=ze.allocType(yt,36);e.activeTexture(mt),e.bindTexture(dt,c),e.texImage2D(pt,0,ht,3,3,0,ht,yt,l),ze.freeType(l),e.bindTexture(dt,null),e.deleteTexture(c),f=!e.getError()}return{colorBits:[e.getParameter(Be),e.getParameter(Ne),e.getParameter(Ve),e.getParameter(He)],depthBits:e.getParameter(Ue),stencilBits:e.getParameter(We),subpixelBits:e.getParameter(Ie),extensions:Object.keys(t).filter((function(e){return!!t[e]})),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:a,pointSizeDims:e.getParameter($e),lineWidthDims:e.getParameter(Ge),maxViewportDims:e.getParameter(Ye),maxCombinedTextureUnits:e.getParameter(Ke),maxCubeMapSize:e.getParameter(rt),maxRenderbufferSize:e.getParameter(nt),maxTextureUnits:e.getParameter(et),maxTextureSize:e.getParameter(qe),maxAttributes:e.getParameter(Qe),maxVertexUniforms:e.getParameter(Je),maxVertexTextureUnits:e.getParameter(Ze),maxVaryingVectors:e.getParameter(Xe),maxFragmentUniforms:e.getParameter(tt),glsl:e.getParameter(st),renderer:e.getParameter(it),vendor:e.getParameter(at),version:e.getParameter(ot),readFloat:i,npotTextureCube:f}};function At(t){return!!t&&"object"===typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"===typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var Et=function(e){return Object.keys(e).map((function(t){return e[t]}))},_t={shape:Dt,flatten:jt};function kt(e,t,r){for(var n=0;n<t;++n)r[n]=e[n]}function Ot(e,t,r,n){for(var a=0,i=0;i<t;++i)for(var o=e[i],s=0;s<r;++s)n[a++]=o[s]}function Ct(e,t,r,n,a,i){for(var o=i,s=0;s<t;++s)for(var u=e[s],f=0;f<r;++f)for(var c=u[f],l=0;l<n;++l)a[o++]=c[l]}function Tt(e,t,r,n,a){for(var i=1,o=r+1;o<t.length;++o)i*=t[o];var s=t[r];if(t.length-r===4){var u=t[r+1],f=t[r+2],c=t[r+3];for(o=0;o<s;++o)Ct(e[o],u,f,c,n,a),a+=i}else for(o=0;o<s;++o)Tt(e[o],t,r+1,n,a),a+=i}function jt(e,t,r,n){var a=1;if(t.length)for(var i=0;i<t.length;++i)a*=t[i];else a=0;var o=n||ze.allocType(r,a);switch(t.length){case 0:break;case 1:kt(e,t[0],o);break;case 2:Ot(e,t[0],t[1],o);break;case 3:Ct(e,t[0],t[1],t[2],o,0);break;default:Tt(e,t,0,o,0)}return o}function Dt(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t}var Rt={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Mt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},Pt={dynamic:35048,stream:35040,static:35044},Lt=_t.flatten,Ft=_t.shape,zt=35044,It=35040,Bt=5121,Nt=5126,Vt=[];function Ht(e){return 0|Rt[Object.prototype.toString.call(e)]}function Ut(e,t){for(var r=0;r<t.length;++r)e[r]=t[r]}function Wt(e,t,r,n,a,i,o){for(var s=0,u=0;u<r;++u)for(var f=0;f<n;++f)e[s++]=t[a*u+i*f+o]}function $t(t,r,n,a){var i=0,o={};function s(e){this.id=i++,this.buffer=t.createBuffer(),this.type=e,this.usage=zt,this.byteLength=0,this.dimension=1,this.dtype=Bt,this.persistentData=null,n.profile&&(this.stats={size:0})}s.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},s.prototype.destroy=function(){p(this)};var u=[];function f(e,t){var r=u.pop();return r||(r=new s(e)),r.bind(),d(r,t,It,0,1,!1),r}function c(e){u.push(e)}function l(e,r,n){e.byteLength=r.byteLength,t.bufferData(e.type,r,n)}function d(t,r,n,a,i,o){var s,u;if(t.usage=n,Array.isArray(r)){if(t.dtype=a||Nt,r.length>0)if(Array.isArray(r[0])){s=Ft(r);for(var f=1,c=1;c<s.length;++c)f*=s[c];t.dimension=f,l(t,u=Lt(r,s,t.dtype),n),o?t.persistentData=u:ze.freeType(u)}else if("number"===typeof r[0]){t.dimension=i;var d=ze.allocType(t.dtype,r.length);Ut(d,r),l(t,d,n),o?t.persistentData=d:ze.freeType(d)}else e(r[0])?(t.dimension=r[0].length,t.dtype=a||Ht(r[0])||Nt,l(t,u=Lt(r,[r.length,r[0].length],t.dtype),n),o?t.persistentData=u:ze.freeType(u)):re.raise("invalid buffer data")}else if(e(r))t.dtype=a||Ht(r),t.dimension=i,l(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r.buffer)));else if(At(r)){s=r.shape;var p=r.stride,m=r.offset,h=0,v=0,y=0,b=0;1===s.length?(h=s[0],v=1,y=p[0],b=0):2===s.length?(h=s[0],v=s[1],y=p[0],b=p[1]):re.raise("invalid shape"),t.dtype=a||Ht(r.data)||Nt,t.dimension=v;var g=ze.allocType(t.dtype,h*v);Wt(g,r.data,h,v,y,b,m),l(t,g,n),o?t.persistentData=g:ze.freeType(g)}else r instanceof ArrayBuffer?(t.dtype=Bt,t.dimension=i,l(t,r,n),o&&(t.persistentData=new Uint8Array(new Uint8Array(r)))):re.raise("invalid buffer data")}function p(e){r.bufferCount--,a(e);var n=e.buffer;re(n,"buffer must not be deleted already"),t.deleteBuffer(n),e.buffer=null,delete o[e.id]}function m(a,i,u,f){r.bufferCount++;var c=new s(i);function l(r){var a=zt,i=null,o=0,s=0,u=1;return Array.isArray(r)||e(r)||At(r)||r instanceof ArrayBuffer?i=r:"number"===typeof r?o=0|r:r&&(re.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(re(null===i||Array.isArray(i)||e(i)||At(i),"invalid data for buffer"),i=r.data),"usage"in r&&(re.parameter(r.usage,Pt,"invalid buffer usage"),a=Pt[r.usage]),"type"in r&&(re.parameter(r.type,Mt,"invalid buffer type"),s=Mt[r.type]),"dimension"in r&&(re.type(r.dimension,"number","invalid dimension"),u=0|r.dimension),"length"in r&&(re.nni(o,"buffer length must be a nonnegative integer"),o=0|r.length)),c.bind(),i?d(c,i,a,s,u,f):(o&&t.bufferData(c.type,o,a),c.dtype=s||Bt,c.usage=a,c.dimension=u,c.byteLength=o),n.profile&&(c.stats.size=c.byteLength*Vt[c.dtype]),l}function m(e,r){re(r+e.byteLength<=c.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+e.byteLength+" starting from offset "+r+" to a buffer of size "+c.byteLength),t.bufferSubData(c.type,r,e)}function h(t,r){var n,a=0|(r||0);if(c.bind(),e(t)||t instanceof ArrayBuffer)m(t,a);else if(Array.isArray(t)){if(t.length>0)if("number"===typeof t[0]){var i=ze.allocType(c.dtype,t.length);Ut(i,t),m(i,a),ze.freeType(i)}else if(Array.isArray(t[0])||e(t[0])){n=Ft(t);var o=Lt(t,n,c.dtype);m(o,a),ze.freeType(o)}else re.raise("invalid buffer data")}else if(At(t)){n=t.shape;var s=t.stride,u=0,f=0,d=0,p=0;1===n.length?(u=n[0],f=1,d=s[0],p=0):2===n.length?(u=n[0],f=n[1],d=s[0],p=s[1]):re.raise("invalid shape");var h=Array.isArray(t.data)?c.dtype:Ht(t.data),v=ze.allocType(h,u*f);Wt(v,t.data,u,f,d,p,t.offset),m(v,a),ze.freeType(v)}else re.raise("invalid data for buffer subdata");return l}return o[c.id]=c,u||l(a),l._reglType="buffer",l._buffer=c,l.subdata=h,n.profile&&(l.stats=c.stats),l.destroy=function(){p(c)},l}function h(){Et(o).forEach((function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)}))}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(o).forEach((function(t){e+=o[t].stats.size})),e}),{create:m,createStream:f,destroyStream:c,clear:function(){Et(o).forEach(p),u.forEach(p)},getBuffer:function(e){return e&&e._buffer instanceof s?e._buffer:null},restore:h,_initBuffer:d}}Vt[5120]=1,Vt[5122]=2,Vt[5124]=4,Vt[5121]=1,Vt[5123]=2,Vt[5125]=4,Vt[5126]=4;var Gt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},qt=0,Yt=1,Qt=4,Jt=5120,Xt=5121,Kt=5122,Zt=5123,er=5124,tr=5125,rr=34963,nr=35040,ar=35044;function ir(t,r,n,a){var i={},o=0,s={uint8:Xt,uint16:Zt};function u(e){this.id=o++,i[this.id]=this,this.buffer=e,this.primType=Qt,this.vertCount=0,this.type=0}r.oes_element_index_uint&&(s.uint32=tr),u.prototype.bind=function(){this.buffer.bind()};var f=[];function c(e){var t=f.pop();return t||(t=new u(n.create(null,rr,!0,!1)._buffer)),d(t,e,nr,-1,-1,0,0),t}function l(e){f.push(e)}function d(a,i,o,s,u,f,c){var l;if(a.buffer.bind(),i){var d=c;c||e(i)&&(!At(i)||e(i.data))||(d=r.oes_element_index_uint?tr:Zt),n._initBuffer(a.buffer,i,o,d,3)}else t.bufferData(rr,f,o),a.buffer.dtype=l||Xt,a.buffer.usage=o,a.buffer.dimension=3,a.buffer.byteLength=f;if(l=c,!c){switch(a.buffer.dtype){case Xt:case Jt:l=Xt;break;case Zt:case Kt:l=Zt;break;case tr:case er:l=tr;break;default:re.raise("unsupported type for element array")}a.buffer.dtype=l}a.type=l,re(l!==tr||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var p=u;p<0&&(p=a.buffer.byteLength,l===Zt?p>>=1:l===tr&&(p>>=2)),a.vertCount=p;var m=s;if(s<0){m=Qt;var h=a.buffer.dimension;1===h&&(m=qt),2===h&&(m=Yt),3===h&&(m=Qt)}a.primType=m}function p(e){a.elementsCount--,re(null!==e.buffer,"must not double destroy elements"),delete i[e.id],e.buffer.destroy(),e.buffer=null}function m(t,r){var i=n.create(null,rr,!0),o=new u(i._buffer);function f(t){if(t)if("number"===typeof t)i(t),o.primType=Qt,o.vertCount=0|t,o.type=Xt;else{var r=null,n=ar,a=-1,u=-1,c=0,l=0;Array.isArray(t)||e(t)||At(t)?r=t:(re.type(t,"object","invalid arguments for elements"),"data"in t&&(r=t.data,re(Array.isArray(r)||e(r)||At(r),"invalid data for element buffer")),"usage"in t&&(re.parameter(t.usage,Pt,"invalid element buffer usage"),n=Pt[t.usage]),"primitive"in t&&(re.parameter(t.primitive,Gt,"invalid element buffer primitive"),a=Gt[t.primitive]),"count"in t&&(re("number"===typeof t.count&&t.count>=0,"invalid vertex count for elements"),u=0|t.count),"type"in t&&(re.parameter(t.type,s,"invalid buffer type"),l=s[t.type]),"length"in t?c=0|t.length:(c=u,l===Zt||l===Kt?c*=2:l!==tr&&l!==er||(c*=4))),d(o,r,n,a,u,c,l)}else i(),o.primType=Qt,o.vertCount=0,o.type=Xt;return f}return a.elementsCount++,f(t),f._reglType="elements",f._elements=o,f.subdata=function(e,t){return i.subdata(e,t),f},f.destroy=function(){p(o)},f}return{create:m,createStream:c,destroyStream:l,getElements:function(e){return"function"===typeof e&&e._elements instanceof u?e._elements:null},clear:function(){Et(i).forEach(p)}}}var or=new Float32Array(1),sr=new Uint32Array(or.buffer),ur=5123;function fr(e){for(var t=ze.allocType(ur,e.length),r=0;r<e.length;++r)if(isNaN(e[r]))t[r]=65535;else if(e[r]===1/0)t[r]=31744;else if(e[r]===-1/0)t[r]=64512;else{or[0]=e[r];var n=sr[0],a=n>>>31<<15,i=(n<<1>>>24)-127,o=n>>13&1023;if(i<-24)t[r]=a;else if(i<-14){var s=-14-i;t[r]=a+(o+1024>>s)}else t[r]=i>15?a+31744:a+(i+15<<10)+o}return t}function cr(t){return Array.isArray(t)||e(t)}var lr=function(e){return!(e&e-1)&&!!e},dr=34467,pr=3553,mr=34067,hr=34069,vr=6408,yr=6406,br=6407,gr=6409,xr=6410,wr=32854,Sr=32855,Ar=36194,Er=32819,_r=32820,kr=33635,Or=34042,Cr=6402,Tr=34041,jr=35904,Dr=35906,Rr=36193,Mr=33776,Pr=33777,Lr=33778,Fr=33779,zr=35986,Ir=35987,Br=34798,Nr=35840,Vr=35841,Hr=35842,Ur=35843,Wr=36196,$r=5121,Gr=5123,qr=5125,Yr=5126,Qr=10242,Jr=10243,Xr=10497,Kr=33071,Zr=33648,en=10240,tn=10241,rn=9728,nn=9729,an=9984,on=9985,sn=9986,un=9987,fn=33170,cn=4352,ln=4353,dn=4354,pn=34046,mn=3317,hn=37440,vn=37441,yn=37443,bn=37444,gn=33984,xn=[an,sn,on,un],wn=[0,gr,xr,br,vr],Sn={};function An(e){return"[object "+e+"]"}Sn[gr]=Sn[yr]=Sn[Cr]=1,Sn[Tr]=Sn[xr]=2,Sn[br]=Sn[jr]=3,Sn[vr]=Sn[Dr]=4;var En=An("HTMLCanvasElement"),_n=An("OffscreenCanvas"),kn=An("CanvasRenderingContext2D"),On=An("ImageBitmap"),Cn=An("HTMLImageElement"),Tn=An("HTMLVideoElement"),jn=Object.keys(Rt).concat([En,_n,kn,On,Cn,Tn]),Dn=[];Dn[$r]=1,Dn[Yr]=4,Dn[Rr]=2,Dn[Gr]=2,Dn[qr]=4;var Rn=[];function Mn(e){return Array.isArray(e)&&(0===e.length||"number"===typeof e[0])}function Pn(e){return!!Array.isArray(e)&&!(0===e.length||!cr(e[0]))}function Ln(e){return Object.prototype.toString.call(e)}function Fn(e){return Ln(e)===En}function zn(e){return Ln(e)===_n}function In(e){return Ln(e)===kn}function Bn(e){return Ln(e)===On}function Nn(e){return Ln(e)===Cn}function Vn(e){return Ln(e)===Tn}function Hn(e){if(!e)return!1;var t=Ln(e);return jn.indexOf(t)>=0||Mn(e)||Pn(e)||At(e)}function Un(e){return 0|Rt[Object.prototype.toString.call(e)]}function Wn(e,t){var r=t.length;switch(e.type){case $r:case Gr:case qr:case Yr:var n=ze.allocType(e.type,r);n.set(t),e.data=n;break;case Rr:e.data=fr(t);break;default:re.raise("unsupported texture type, must specify a typed array")}}function $n(e,t){return ze.allocType(e.type===Rr?Yr:e.type,t)}function Gn(e,t){e.type===Rr?(e.data=fr(t),ze.freeType(t)):e.data=t}function qn(e,t,r,n,a,i){for(var o=e.width,s=e.height,u=e.channels,f=$n(e,o*s*u),c=0,l=0;l<s;++l)for(var d=0;d<o;++d)for(var p=0;p<u;++p)f[c++]=t[r*d+n*l+a*p+i];Gn(e,f)}function Yn(e,t,r,n,a,i){var o;if(o="undefined"!==typeof Rn[e]?Rn[e]:Sn[e]*Dn[t],i&&(o*=6),a){for(var s=0,u=r;u>=1;)s+=o*u*u,u/=2;return s}return o*r*n}function Qn(r,n,a,i,o,s,u){var f={"don't care":cn,"dont care":cn,nice:dn,fast:ln},c={repeat:Xr,clamp:Kr,mirror:Zr},l={nearest:rn,linear:nn},d=t({mipmap:un,"nearest mipmap nearest":an,"linear mipmap nearest":on,"nearest mipmap linear":sn,"linear mipmap linear":un},l),p={none:0,browser:bn},m={uint8:$r,rgba4:Er,rgb565:kr,"rgb5 a1":_r},h={alpha:yr,luminance:gr,"luminance alpha":xr,rgb:br,rgba:vr,rgba4:wr,"rgb5 a1":Sr,rgb565:Ar},v={};n.ext_srgb&&(h.srgb=jr,h.srgba=Dr),n.oes_texture_float&&(m.float32=m.float=Yr),n.oes_texture_half_float&&(m.float16=m["half float"]=Rr),n.webgl_depth_texture&&(t(h,{depth:Cr,"depth stencil":Tr}),t(m,{uint16:Gr,uint32:qr,"depth stencil":Or})),n.webgl_compressed_texture_s3tc&&t(v,{"rgb s3tc dxt1":Mr,"rgba s3tc dxt1":Pr,"rgba s3tc dxt3":Lr,"rgba s3tc dxt5":Fr}),n.webgl_compressed_texture_atc&&t(v,{"rgb atc":zr,"rgba atc explicit alpha":Ir,"rgba atc interpolated alpha":Br}),n.webgl_compressed_texture_pvrtc&&t(v,{"rgb pvrtc 4bppv1":Nr,"rgb pvrtc 2bppv1":Vr,"rgba pvrtc 4bppv1":Hr,"rgba pvrtc 2bppv1":Ur}),n.webgl_compressed_texture_etc1&&(v["rgb etc1"]=Wr);var y=Array.prototype.slice.call(r.getParameter(dr));Object.keys(v).forEach((function(e){var t=v[e];y.indexOf(t)>=0&&(h[e]=t)}));var b=Object.keys(h);a.textureFormats=b;var g=[];Object.keys(h).forEach((function(e){var t=h[e];g[t]=e}));var x=[];Object.keys(m).forEach((function(e){var t=m[e];x[t]=e}));var w=[];Object.keys(l).forEach((function(e){var t=l[e];w[t]=e}));var S=[];Object.keys(d).forEach((function(e){var t=d[e];S[t]=e}));var A=[];Object.keys(c).forEach((function(e){var t=c[e];A[t]=e}));var E=b.reduce((function(e,t){var r=h[t];return r===gr||r===yr||r===gr||r===xr||r===Cr||r===Tr||n.ext_srgb&&(r===jr||r===Dr)?e[r]=r:r===Sr||t.indexOf("rgba")>=0?e[r]=vr:e[r]=br,e}),{});function _(){this.internalformat=vr,this.format=vr,this.type=$r,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=bn,this.width=0,this.height=0,this.channels=0}function k(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function O(e,t){if("object"===typeof t&&t){if("premultiplyAlpha"in t&&(re.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(re.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(re.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(re.parameter(t.colorSpace,p,"invalid colorSpace"),e.colorSpace=p[t.colorSpace]),"type"in t){var r=t.type;re(n.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),re(n.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),re(n.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),re.parameter(r,m,"invalid texture type"),e.type=m[r]}var i=e.width,o=e.height,s=e.channels,u=!1;"shape"in t?(re(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),i=t.shape[0],o=t.shape[1],3===t.shape.length&&(s=t.shape[2],re(s>0&&s<=4,"invalid number of channels"),u=!0),re(i>=0&&i<=a.maxTextureSize,"invalid width"),re(o>=0&&o<=a.maxTextureSize,"invalid height")):("radius"in t&&(i=o=t.radius,re(i>=0&&i<=a.maxTextureSize,"invalid radius")),"width"in t&&(i=t.width,re(i>=0&&i<=a.maxTextureSize,"invalid width")),"height"in t&&(o=t.height,re(o>=0&&o<=a.maxTextureSize,"invalid height")),"channels"in t&&(s=t.channels,re(s>0&&s<=4,"invalid number of channels"),u=!0)),e.width=0|i,e.height=0|o,e.channels=0|s;var f=!1;if("format"in t){var c=t.format;re(n.webgl_depth_texture||!("depth"===c||"depth stencil"===c),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),re.parameter(c,h,"invalid texture format");var l=e.internalformat=h[c];e.format=E[l],c in m&&("type"in t||(e.type=m[c])),c in v&&(e.compressed=!0),f=!0}!u&&f?e.channels=Sn[e.format]:u&&!f?e.channels!==wn[e.format]&&(e.format=e.internalformat=wn[e.channels]):f&&u&&re(e.channels===Sn[e.format],"number of channels inconsistent with specified format")}}function C(e){r.pixelStorei(hn,e.flipY),r.pixelStorei(vn,e.premultiplyAlpha),r.pixelStorei(yn,e.colorSpace),r.pixelStorei(mn,e.unpackAlignment)}function T(){_.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function j(t,r){var n=null;if(Hn(r)?n=r:r&&(re.type(r,"object","invalid pixel data type"),O(t,r),"x"in r&&(t.xOffset=0|r.x),"y"in r&&(t.yOffset=0|r.y),Hn(r.data)&&(n=r.data)),re(!t.compressed||n instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),r.copy){re(!n,"can not specify copy and data field for the same texture");var i=o.viewportWidth,s=o.viewportHeight;t.width=t.width||i-t.xOffset,t.height=t.height||s-t.yOffset,t.needsCopy=!0,re(t.xOffset>=0&&t.xOffset<i&&t.yOffset>=0&&t.yOffset<s&&t.width>0&&t.width<=i&&t.height>0&&t.height<=s,"copy texture read out of bounds")}else if(n){if(e(n))t.channels=t.channels||4,t.data=n,"type"in r||t.type!==$r||(t.type=Un(n));else if(Mn(n))t.channels=t.channels||4,Wn(t,n),t.alignment=1,t.needsFree=!0;else if(At(n)){var u=n.data;Array.isArray(u)||t.type!==$r||(t.type=Un(u));var f,c,l,d,p,m,h=n.shape,v=n.stride;3===h.length?(l=h[2],m=v[2]):(re(2===h.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,m=1),f=h[0],c=h[1],d=v[0],p=v[1],t.alignment=1,t.width=f,t.height=c,t.channels=l,t.format=t.internalformat=wn[l],t.needsFree=!0,qn(t,u,d,p,m,n.offset)}else if(Fn(n)||zn(n)||In(n))Fn(n)||zn(n)?t.element=n:t.element=n.canvas,t.width=t.element.width,t.height=t.element.height,t.channels=4;else if(Bn(n))t.element=n,t.width=n.width,t.height=n.height,t.channels=4;else if(Nn(n))t.element=n,t.width=n.naturalWidth,t.height=n.naturalHeight,t.channels=4;else if(Vn(n))t.element=n,t.width=n.videoWidth,t.height=n.videoHeight,t.channels=4;else if(Pn(n)){var y=t.width||n[0].length,b=t.height||n.length,g=t.channels;g=cr(n[0][0])?g||n[0][0].length:g||1;for(var x=_t.shape(n),w=1,S=0;S<x.length;++S)w*=x[S];var A=$n(t,w);_t.flatten(n,x,"",A),Gn(t,A),t.alignment=1,t.width=y,t.height=b,t.channels=g,t.format=t.internalformat=wn[g],t.needsFree=!0}}else t.width=t.width||1,t.height=t.height||1,t.channels=t.channels||4;t.type===Yr?re(a.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):t.type===Rr&&re(a.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function D(e,t,n){var a=e.element,o=e.data,s=e.internalformat,u=e.format,f=e.type,c=e.width,l=e.height;C(e),a?r.texImage2D(t,n,u,u,f,a):e.compressed?r.compressedTexImage2D(t,n,s,c,l,0,o):e.needsCopy?(i(),r.copyTexImage2D(t,n,u,e.xOffset,e.yOffset,c,l,0)):r.texImage2D(t,n,u,c,l,0,u,f,o||null)}function R(e,t,n,a,o){var s=e.element,u=e.data,f=e.internalformat,c=e.format,l=e.type,d=e.width,p=e.height;C(e),s?r.texSubImage2D(t,o,n,a,c,l,s):e.compressed?r.compressedTexSubImage2D(t,o,n,a,f,d,p,u):e.needsCopy?(i(),r.copyTexSubImage2D(t,o,n,a,e.xOffset,e.yOffset,d,p)):r.texSubImage2D(t,o,n,a,d,p,c,l,u)}var M=[];function P(){return M.pop()||new T}function L(e){e.needsFree&&ze.freeType(e.data),T.call(e),M.push(e)}function F(){_.call(this),this.genMipmaps=!1,this.mipmapHint=cn,this.mipmask=0,this.images=Array(16)}function z(e,t,r){var n=e.images[0]=P();e.mipmask=1,n.width=e.width=t,n.height=e.height=r,n.channels=e.channels=4}function I(e,t){var r=null;if(Hn(t))k(r=e.images[0]=P(),e),j(r,t),e.mipmask=1;else if(O(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,a=0;a<n.length;++a)k(r=e.images[a]=P(),e),r.width>>=a,r.height>>=a,j(r,n[a]),e.mipmask|=1<<a;else k(r=e.images[0]=P(),e),j(r,t),e.mipmask=1;k(e,e.images[0]),!e.compressed||e.internalformat!==Mr&&e.internalformat!==Pr&&e.internalformat!==Lr&&e.internalformat!==Fr||re(e.width%4===0&&e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function B(e,t){for(var r=e.images,n=0;n<r.length;++n){if(!r[n])return;D(r[n],t,n)}}var N=[];function V(){var e=N.pop()||new F;_.call(e),e.mipmask=0;for(var t=0;t<16;++t)e.images[t]=null;return e}function H(e){for(var t=e.images,r=0;r<t.length;++r)t[r]&&L(t[r]),t[r]=null;N.push(e)}function U(){this.minFilter=rn,this.magFilter=rn,this.wrapS=Kr,this.wrapT=Kr,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=cn}function W(e,t){if("min"in t){var r=t.min;re.parameter(r,d),e.minFilter=d[r],xn.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;re.parameter(n,l),e.magFilter=l[n]}var i=e.wrapS,o=e.wrapT;if("wrap"in t){var s=t.wrap;"string"===typeof s?(re.parameter(s,c),i=o=c[s]):Array.isArray(s)&&(re.parameter(s[0],c),re.parameter(s[1],c),i=c[s[0]],o=c[s[1]])}else{if("wrapS"in t){var u=t.wrapS;re.parameter(u,c),i=c[u]}if("wrapT"in t){var p=t.wrapT;re.parameter(p,c),o=c[p]}}if(e.wrapS=i,e.wrapT=o,"anisotropic"in t){var m=t.anisotropic;re("number"===typeof m&&m>=1&&m<=a.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var h=!1;switch(typeof t.mipmap){case"string":re.parameter(t.mipmap,f,"invalid mipmap hint"),e.mipmapHint=f[t.mipmap],e.genMipmaps=!0,h=!0;break;case"boolean":h=e.genMipmaps=t.mipmap;break;case"object":re(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,h=!0;break;default:re.raise("invalid mipmap type")}h&&!("min"in t)&&(e.minFilter=an)}}function $(e,t){r.texParameteri(t,tn,e.minFilter),r.texParameteri(t,en,e.magFilter),r.texParameteri(t,Qr,e.wrapS),r.texParameteri(t,Jr,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,pn,e.anisotropic),e.genMipmaps&&(r.hint(fn,e.mipmapHint),r.generateMipmap(t))}var G=0,q={},Y=a.maxTextureUnits,Q=Array(Y).map((function(){return null}));function J(e){_.call(this),this.mipmask=0,this.internalformat=vr,this.id=G++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new U,u.profile&&(this.stats={size:0})}function X(e){r.activeTexture(gn),r.bindTexture(e.target,e.texture)}function K(){var e=Q[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(pr,null)}function Z(e){var t=e.texture;re(t,"must not double destroy texture");var n=e.unit,a=e.target;n>=0&&(r.activeTexture(gn+n),r.bindTexture(a,null),Q[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete q[e.id],s.textureCount--}function ee(e,t){var n=new J(pr);function i(e,t){var r=n.texInfo;U.call(r);var o=V();return"number"===typeof e?z(o,0|e,"number"===typeof t?0|t:0|e):e?(re.type(e,"object","invalid arguments to regl.texture"),W(r,e),I(o,e)):z(o,1,1),r.genMipmaps&&(o.mipmask=(o.width<<1)-1),n.mipmask=o.mipmask,k(n,o),re.texture2D(r,o,a),n.internalformat=o.internalformat,i.width=o.width,i.height=o.height,X(n),B(o,pr),$(r,pr),K(),H(o),u.profile&&(n.stats.size=Yn(n.internalformat,n.type,o.width,o.height,r.genMipmaps,!1)),i.format=g[n.internalformat],i.type=x[n.type],i.mag=w[r.magFilter],i.min=S[r.minFilter],i.wrapS=A[r.wrapS],i.wrapT=A[r.wrapT],i}function o(e,t,r,a){re(!!e,"must specify image data");var o=0|t,s=0|r,u=0|a,f=P();return k(f,n),f.width=0,f.height=0,j(f,e),f.width=f.width||(n.width>>u)-o,f.height=f.height||(n.height>>u)-s,re(n.type===f.type&&n.format===f.format&&n.internalformat===f.internalformat,"incompatible format for texture.subimage"),re(o>=0&&s>=0&&o+f.width<=n.width&&s+f.height<=n.height,"texture.subimage write out of bounds"),re(n.mipmask&1<<u,"missing mipmap data"),re(f.data||f.element||f.needsCopy,"missing image data"),X(n),R(f,pr,o,s,u),K(),L(f),i}function f(e,t){var a=0|e,o=0|t||a;if(a===n.width&&o===n.height)return i;i.width=n.width=a,i.height=n.height=o,X(n);for(var s=0;n.mipmask>>s;++s){var f=a>>s,c=o>>s;if(!f||!c)break;r.texImage2D(pr,s,n.format,f,c,0,n.format,n.type,null)}return K(),u.profile&&(n.stats.size=Yn(n.internalformat,n.type,a,o,!1,!1)),i}return q[n.id]=n,s.textureCount++,i(e,t),i.subimage=o,i.resize=f,i._reglType="texture2d",i._texture=n,u.profile&&(i.stats=n.stats),i.destroy=function(){n.decRef()},i}function te(e,t,n,i,o,f){var c=new J(mr);q[c.id]=c,s.cubeCount++;var l=new Array(6);function d(e,t,r,n,i,o){var s,f=c.texInfo;for(U.call(f),s=0;s<6;++s)l[s]=V();if("number"!==typeof e&&e)if("object"===typeof e)if(t)I(l[0],e),I(l[1],t),I(l[2],r),I(l[3],n),I(l[4],i),I(l[5],o);else if(W(f,e),O(c,e),"faces"in e){var p=e.faces;for(re(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),s=0;s<6;++s)re("object"===typeof p[s]&&!!p[s],"invalid input for cube map face"),k(l[s],c),I(l[s],p[s])}else for(s=0;s<6;++s)I(l[s],e);else re.raise("invalid arguments to cube map");else{var m=0|e||1;for(s=0;s<6;++s)z(l[s],m,m)}for(k(c,l[0]),re.optional((function(){a.npotTextureCube||re(lr(c.width)&&lr(c.height),"your browser does not support non power or two texture dimensions")})),f.genMipmaps?c.mipmask=(l[0].width<<1)-1:c.mipmask=l[0].mipmask,re.textureCube(c,f,l,a),c.internalformat=l[0].internalformat,d.width=l[0].width,d.height=l[0].height,X(c),s=0;s<6;++s)B(l[s],hr+s);for($(f,mr),K(),u.profile&&(c.stats.size=Yn(c.internalformat,c.type,d.width,d.height,f.genMipmaps,!0)),d.format=g[c.internalformat],d.type=x[c.type],d.mag=w[f.magFilter],d.min=S[f.minFilter],d.wrapS=A[f.wrapS],d.wrapT=A[f.wrapT],s=0;s<6;++s)H(l[s]);return d}function p(e,t,r,n,a){re(!!t,"must specify image data"),re("number"===typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var i=0|r,o=0|n,s=0|a,u=P();return k(u,c),u.width=0,u.height=0,j(u,t),u.width=u.width||(c.width>>s)-i,u.height=u.height||(c.height>>s)-o,re(c.type===u.type&&c.format===u.format&&c.internalformat===u.internalformat,"incompatible format for texture.subimage"),re(i>=0&&o>=0&&i+u.width<=c.width&&o+u.height<=c.height,"texture.subimage write out of bounds"),re(c.mipmask&1<<s,"missing mipmap data"),re(u.data||u.element||u.needsCopy,"missing image data"),X(c),R(u,hr+e,i,o,s),K(),L(u),d}function m(e){var t=0|e;if(t!==c.width){d.width=c.width=t,d.height=c.height=t,X(c);for(var n=0;n<6;++n)for(var a=0;c.mipmask>>a;++a)r.texImage2D(hr+n,a,c.format,t>>a,t>>a,0,c.format,c.type,null);return K(),u.profile&&(c.stats.size=Yn(c.internalformat,c.type,d.width,d.height,!1,!0)),d}}return d(e,t,n,i,o,f),d.subimage=p,d.resize=m,d._reglType="textureCube",d._texture=c,u.profile&&(d.stats=c.stats),d.destroy=function(){c.decRef()},d}function ne(){for(var e=0;e<Y;++e)r.activeTexture(gn+e),r.bindTexture(pr,null),Q[e]=null;Et(q).forEach(Z),s.cubeCount=0,s.textureCount=0}function ae(){for(var e=0;e<Y;++e){var t=Q[e];t&&(t.bindCount=0,t.unit=-1,Q[e]=null)}Et(q).forEach((function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var t=0;t<32;++t)if(0!==(e.mipmask&1<<t))if(e.target===pr)r.texImage2D(pr,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);else for(var n=0;n<6;++n)r.texImage2D(hr+n,t,e.internalformat,e.width>>t,e.height>>t,0,e.internalformat,e.type,null);$(e.texInfo,e.target)}))}function ie(){for(var e=0;e<Y;++e){var t=Q[e];t&&(t.bindCount=0,t.unit=-1,Q[e]=null),r.activeTexture(gn+e),r.bindTexture(pr,null),r.bindTexture(mr,null)}}return t(J.prototype,{bind:function(){var e=this;e.bindCount+=1;var t=e.unit;if(t<0){for(var n=0;n<Y;++n){var a=Q[n];if(a){if(a.bindCount>0)continue;a.unit=-1}Q[n]=e,t=n;break}t>=Y&&re.raise("insufficient number of texture units"),u.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),e.unit=t,r.activeTexture(gn+t),r.bindTexture(e.target,e.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Z(this)}}),u.profile&&(s.getTotalTextureSize=function(){var e=0;return Object.keys(q).forEach((function(t){e+=q[t].stats.size})),e}),{create2D:ee,createCube:te,clear:ne,getTexture:function(e){return null},restore:ae,refresh:ie}}Rn[wr]=2,Rn[Sr]=2,Rn[Ar]=2,Rn[Tr]=4,Rn[Mr]=.5,Rn[Pr]=.5,Rn[Lr]=1,Rn[Fr]=1,Rn[zr]=.5,Rn[Ir]=1,Rn[Br]=1,Rn[Nr]=.5,Rn[Vr]=.25,Rn[Hr]=.5,Rn[Ur]=.25,Rn[Wr]=.5;var Jn=36161,Xn=32854,Kn=32855,Zn=36194,ea=33189,ta=36168,ra=34041,na=35907,aa=34836,ia=34842,oa=34843,sa=[];function ua(e,t,r){return sa[e]*t*r}sa[Xn]=2,sa[Kn]=2,sa[Zn]=2,sa[ea]=2,sa[ta]=1,sa[ra]=4,sa[na]=4,sa[aa]=16,sa[ia]=8,sa[oa]=6;var fa=function(e,t,r,n,a){var i={rgba4:Xn,rgb565:Zn,"rgb5 a1":Kn,depth:ea,stencil:ta,"depth stencil":ra};t.ext_srgb&&(i.srgba=na),t.ext_color_buffer_half_float&&(i.rgba16f=ia,i.rgb16f=oa),t.webgl_color_buffer_float&&(i.rgba32f=aa);var o=[];Object.keys(i).forEach((function(e){var t=i[e];o[t]=e}));var s=0,u={};function f(e){this.id=s++,this.refCount=1,this.renderbuffer=e,this.format=Xn,this.width=0,this.height=0,a.profile&&(this.stats={size:0})}function c(t){var r=t.renderbuffer;re(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(Jn,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete u[t.id],n.renderbufferCount--}function l(t,s){var c=new f(e.createRenderbuffer());function l(t,n){var s=0,u=0,f=Xn;if("object"===typeof t&&t){var d=t;if("shape"in d){var p=d.shape;re(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),s=0|p[0],u=0|p[1]}else"radius"in d&&(s=u=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(u=0|d.height);"format"in d&&(re.parameter(d.format,i,"invalid renderbuffer format"),f=i[d.format])}else"number"===typeof t?(s=0|t,u="number"===typeof n?0|n:s):t?re.raise("invalid arguments to renderbuffer constructor"):s=u=1;if(re(s>0&&u>0&&s<=r.maxRenderbufferSize&&u<=r.maxRenderbufferSize,"invalid renderbuffer size"),s!==c.width||u!==c.height||f!==c.format)return l.width=c.width=s,l.height=c.height=u,c.format=f,e.bindRenderbuffer(Jn,c.renderbuffer),e.renderbufferStorage(Jn,f,s,u),re(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=ua(c.format,c.width,c.height)),l.format=o[c.format],l}function d(t,n){var i=0|t,o=0|n||i;return i===c.width&&o===c.height||(re(i>0&&o>0&&i<=r.maxRenderbufferSize&&o<=r.maxRenderbufferSize,"invalid renderbuffer size"),l.width=c.width=i,l.height=c.height=o,e.bindRenderbuffer(Jn,c.renderbuffer),e.renderbufferStorage(Jn,c.format,i,o),re(0===e.getError(),"invalid render buffer format"),a.profile&&(c.stats.size=ua(c.format,c.width,c.height))),l}return u[c.id]=c,n.renderbufferCount++,l(t,s),l.resize=d,l._reglType="renderbuffer",l._renderbuffer=c,a.profile&&(l.stats=c.stats),l.destroy=function(){c.decRef()},l}function d(){Et(u).forEach((function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Jn,t.renderbuffer),e.renderbufferStorage(Jn,t.format,t.width,t.height)})),e.bindRenderbuffer(Jn,null)}return f.prototype.decRef=function(){--this.refCount<=0&&c(this)},a.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(u).forEach((function(t){e+=u[t].stats.size})),e}),{create:l,clear:function(){Et(u).forEach(c)},restore:d}},ca=36160,la=36161,da=3553,pa=34069,ma=36064,ha=36096,va=36128,ya=33306,ba=36053,ga=36054,xa=36055,wa=36057,Sa=36061,Aa=36193,Ea=5121,_a=5126,ka=6407,Oa=6408,Ca=6402,Ta=[ka,Oa],ja=[];ja[Oa]=4,ja[ka]=3;var Da=[];Da[Ea]=1,Da[_a]=4,Da[Aa]=2;var Ra=33189,Ma=36168,Pa=34041,La=[32854,32855,36194,35907,34842,34843,34836],Fa={};function za(e,r,n,a,i,o){var s={cur:null,next:null,dirty:!1,setFBO:null},u=["rgba"],f=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&f.push("srgba"),r.ext_color_buffer_half_float&&f.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&f.push("rgba32f");var c=["uint8"];function l(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,a=0;t?(n=t.width,a=t.height):r&&(n=r.width,a=r.height),this.width=n,this.height=a}function d(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function p(e,t,r){if(e)if(e.texture){var n=e.texture._texture,a=Math.max(1,n.width),i=Math.max(1,n.height);re(a===t&&i===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var o=e.renderbuffer._renderbuffer;re(o.width===t&&o.height===r,"inconsistent width/height for renderbuffer"),o.refCount+=1}}function m(t,r){r&&(r.texture?e.framebufferTexture2D(ca,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(ca,t,la,r.renderbuffer._renderbuffer.renderbuffer))}function h(e){var t=da,r=null,n=null,a=e;"object"===typeof e&&(a=e.data,"target"in e&&(t=0|e.target)),re.type(a,"function","invalid attachment data");var i=a._reglType;return"texture2d"===i?(r=a,re(t===da)):"textureCube"===i?(r=a,re(t>=pa&&t<pa+6,"invalid cube map target")):"renderbuffer"===i?(n=a,t=la):re.raise("invalid regl object for attachment"),new l(t,r,n)}function v(e,t,r,n,o){if(r){var s=a.create2D({width:e,height:t,format:n,type:o});return s._texture.refCount=0,new l(da,s,null)}var u=i.create({width:e,height:t,format:n});return u._renderbuffer.refCount=0,new l(la,null,u)}function y(e){return e&&(e.texture||e.renderbuffer)}function b(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&c.push("half float","float16"),r.oes_texture_float&&c.push("float","float32");var g=0,x={};function w(){this.id=g++,x[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function S(e){e.colorAttachments.forEach(d),d(e.depthAttachment),d(e.stencilAttachment),d(e.depthStencilAttachment)}function A(t){var r=t.framebuffer;re(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,o.framebufferCount--,delete x[t.id]}function E(t){var r;e.bindFramebuffer(ca,t.framebuffer);var a=t.colorAttachments;for(r=0;r<a.length;++r)m(ma+r,a[r]);for(r=a.length;r<n.maxColorAttachments;++r)e.framebufferTexture2D(ca,ma+r,da,null,0);e.framebufferTexture2D(ca,ya,da,null,0),e.framebufferTexture2D(ca,ha,da,null,0),e.framebufferTexture2D(ca,va,da,null,0),m(ha,t.depthAttachment),m(va,t.stencilAttachment),m(ya,t.depthStencilAttachment);var i=e.checkFramebufferStatus(ca);e.isContextLost()||i===ba||re.raise("framebuffer configuration not supported, status = "+Fa[i]),e.bindFramebuffer(ca,s.next?s.next.framebuffer:null),s.cur=s.next,e.getError()}function _(e,a){var i=new w;function l(e,t){var a;re(s.next!==i,"can not update framebuffer which is currently in use");var o=0,d=0,m=!0,b=!0,g=null,x=!0,w="rgba",A="uint8",_=1,k=null,O=null,C=null,T=!1;if("number"===typeof e)o=0|e,d=0|t||o;else if(e){re.type(e,"object","invalid arguments for framebuffer");var j=e;if("shape"in j){var D=j.shape;re(Array.isArray(D)&&D.length>=2,"invalid shape for framebuffer"),o=D[0],d=D[1]}else"radius"in j&&(o=d=j.radius),"width"in j&&(o=j.width),"height"in j&&(d=j.height);("color"in j||"colors"in j)&&(g=j.color||j.colors,Array.isArray(g)&&re(1===g.length||r.webgl_draw_buffers,"multiple render targets not supported")),g||("colorCount"in j&&(_=0|j.colorCount,re(_>0,"invalid color buffer count")),"colorTexture"in j&&(x=!!j.colorTexture,w="rgba4"),"colorType"in j&&(A=j.colorType,x?(re(r.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),re(r.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(re(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),w="rgba16f"):"float"!==A&&"float32"!==A||(re(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),w="rgba32f"),re.oneOf(A,c,"invalid color type")),"colorFormat"in j&&(w=j.colorFormat,u.indexOf(w)>=0?x=!0:f.indexOf(w)>=0?x=!1:re.optional((function(){x?re.oneOf(j.colorFormat,u,"invalid color format for texture"):re.oneOf(j.colorFormat,f,"invalid color format for renderbuffer")})))),("depthTexture"in j||"depthStencilTexture"in j)&&(T=!(!j.depthTexture&&!j.depthStencilTexture),re(!T||r.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"===typeof j.depth?m=j.depth:(k=j.depth,b=!1)),"stencil"in j&&("boolean"===typeof j.stencil?b=j.stencil:(O=j.stencil,m=!1)),"depthStencil"in j&&("boolean"===typeof j.depthStencil?m=b=j.depthStencil:(C=j.depthStencil,m=!1,b=!1))}else o=d=1;var R=null,M=null,P=null,L=null;if(Array.isArray(g))R=g.map(h);else if(g)R=[h(g)];else for(R=new Array(_),a=0;a<_;++a)R[a]=v(o,d,x,w,A);re(r.webgl_draw_buffers||R.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),re(R.length<=n.maxColorAttachments,"too many color attachments, not supported"),o=o||R[0].width,d=d||R[0].height,k?M=h(k):m&&!b&&(M=v(o,d,T,"depth","uint32")),O?P=h(O):b&&!m&&(P=v(o,d,!1,"stencil","uint8")),C?L=h(C):!k&&!O&&b&&m&&(L=v(o,d,T,"depth stencil","depth stencil")),re(!!k+!!O+!!C<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var F=null;for(a=0;a<R.length;++a)if(p(R[a],o,d),re(!R[a]||R[a].texture&&Ta.indexOf(R[a].texture._texture.format)>=0||R[a].renderbuffer&&La.indexOf(R[a].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+a+" is invalid"),R[a]&&R[a].texture){var z=ja[R[a].texture._texture.format]*Da[R[a].texture._texture.type];null===F?F=z:re(F===z,"all color attachments much have the same number of bits per pixel.")}return p(M,o,d),re(!M||M.texture&&M.texture._texture.format===Ca||M.renderbuffer&&M.renderbuffer._renderbuffer.format===Ra,"invalid depth attachment for framebuffer object"),p(P,o,d),re(!P||P.renderbuffer&&P.renderbuffer._renderbuffer.format===Ma,"invalid stencil attachment for framebuffer object"),p(L,o,d),re(!L||L.texture&&L.texture._texture.format===Pa||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Pa,"invalid depth-stencil attachment for framebuffer object"),S(i),i.width=o,i.height=d,i.colorAttachments=R,i.depthAttachment=M,i.stencilAttachment=P,i.depthStencilAttachment=L,l.color=R.map(y),l.depth=y(M),l.stencil=y(P),l.depthStencil=y(L),l.width=i.width,l.height=i.height,E(i),l}function d(e,t){re(s.next!==i,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===i.width&&n===i.height)return l;for(var a=i.colorAttachments,o=0;o<a.length;++o)b(a[o],r,n);return b(i.depthAttachment,r,n),b(i.stencilAttachment,r,n),b(i.depthStencilAttachment,r,n),i.width=l.width=r,i.height=l.height=n,E(i),l}return o.framebufferCount++,l(e,a),t(l,{resize:d,_reglType:"framebuffer",_framebuffer:i,destroy:function(){A(i),S(i)},use:function(e){s.setFBO({framebuffer:l},e)}})}function k(e){var i=Array(6);function o(e){var n;re(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var f,l={color:null},d=0,p=null,m="rgba",h="uint8",v=1;if("number"===typeof e)d=0|e;else if(e){re.type(e,"object","invalid arguments for framebuffer");var y=e;if("shape"in y){var b=y.shape;re(Array.isArray(b)&&b.length>=2,"invalid shape for framebuffer"),re(b[0]===b[1],"cube framebuffer must be square"),d=b[0]}else"radius"in y&&(d=0|y.radius),"width"in y?(d=0|y.width,"height"in y&&re(y.height===d,"must be square")):"height"in y&&(d=0|y.height);("color"in y||"colors"in y)&&(p=y.color||y.colors,Array.isArray(p)&&re(1===p.length||r.webgl_draw_buffers,"multiple render targets not supported")),p||("colorCount"in y&&(v=0|y.colorCount,re(v>0,"invalid color buffer count")),"colorType"in y&&(re.oneOf(y.colorType,c,"invalid color type"),h=y.colorType),"colorFormat"in y&&(m=y.colorFormat,re.oneOf(y.colorFormat,u,"invalid color format for texture"))),"depth"in y&&(l.depth=y.depth),"stencil"in y&&(l.stencil=y.stencil),"depthStencil"in y&&(l.depthStencil=y.depthStencil)}else d=1;if(p)if(Array.isArray(p))for(f=[],n=0;n<p.length;++n)f[n]=p[n];else f=[p];else{f=Array(v);var g={radius:d,format:m,type:h};for(n=0;n<v;++n)f[n]=a.createCube(g)}for(l.color=Array(f.length),n=0;n<f.length;++n){var x=f[n];re("function"===typeof x&&"textureCube"===x._reglType,"invalid cube map"),d=d||x.width,re(x.width===d&&x.height===d,"invalid cube map shape"),l.color[n]={target:pa,data:f[n]}}for(n=0;n<6;++n){for(var w=0;w<f.length;++w)l.color[w].target=pa+n;n>0&&(l.depth=i[0].depth,l.stencil=i[0].stencil,l.depthStencil=i[0].depthStencil),i[n]?i[n](l):i[n]=_(l)}return t(o,{width:d,height:d,color:f})}function f(e){var t,r=0|e;if(re(r>0&&r<=n.maxCubeMapSize,"invalid radius for cube fbo"),r===o.width)return o;var a=o.color;for(t=0;t<a.length;++t)a[t].resize(r);for(t=0;t<6;++t)i[t].resize(r);return o.width=o.height=r,o}return o(e),t(o,{faces:i,resize:f,_reglType:"framebufferCube",destroy:function(){i.forEach((function(e){e.destroy()}))}})}function O(){s.cur=null,s.next=null,s.dirty=!0,Et(x).forEach((function(t){t.framebuffer=e.createFramebuffer(),E(t)}))}return t(s,{getFramebuffer:function(e){if("function"===typeof e&&"framebuffer"===e._reglType){var t=e._framebuffer;if(t instanceof w)return t}return null},create:_,createCube:k,clear:function(){Et(x).forEach(A)},restore:O})}Fa[ba]="complete",Fa[ga]="incomplete attachment",Fa[wa]="incomplete dimensions",Fa[xa]="incomplete, missing attachment",Fa[Sa]="unsupported";var Ia=5126,Ba=34962,Na=34963,Va=["attributes","elements","offset","count","primitive","instances"];function Ha(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Ia,this.offset=0,this.stride=0,this.divisor=0}function Ua(t,r,n,a,i,o,s){for(var u=n.maxAttributes,f=new Array(u),c=0;c<u;++c)f[c]=new Ha;var l=0,d={},p={Record:Ha,scope:{},state:f,currentVAO:null,targetVAO:null,restore:h()?S:function(){},createVAO:A,getVAO:y,destroyBuffer:m,setVAO:h()?b:g,clear:h()?x:function(){}};function m(e){for(var r=0;r<f.length;++r){var n=f[r];n.buffer===e&&(t.disableVertexAttribArray(r),n.buffer=null)}}function h(){return r.oes_vertex_array_object}function v(){return r.angle_instanced_arrays}function y(e){return"function"===typeof e&&e._vao?e._vao:null}function b(e){if(e!==p.currentVAO){var t=h();e?t.bindVertexArrayOES(e.vao):t.bindVertexArrayOES(null),p.currentVAO=e}}function g(e){if(e!==p.currentVAO){if(e)e.bindAttrs();else{for(var r=v(),n=0;n<f.length;++n){var a=f[n];a.buffer?(t.enableVertexAttribArray(n),a.buffer.bind(),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offfset),r&&a.divisor&&r.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}s.elements?t.bindBuffer(Na,s.elements.buffer.buffer):t.bindBuffer(Na,null)}p.currentVAO=e}}function x(){Et(d).forEach((function(e){e.destroy()}))}function w(){this.id=++l,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var e=h();this.vao=e?e.createVertexArrayOES():null,d[this.id]=this,this.buffers=[]}function S(){h()&&Et(d).forEach((function(e){e.refresh()}))}function A(t){var n=new w;function s(t){var a;if(Array.isArray(t))a=t,n.elements&&n.ownsElements&&n.elements.destroy(),n.elements=null,n.ownsElements=!1,n.offset=0,n.count=0,n.instances=-1,n.primitive=4;else{if(re("object"===typeof t,"invalid arguments for create vao"),re("attributes"in t,"must specify attributes for vao"),t.elements){var f=t.elements;n.ownsElements?"function"===typeof f&&"elements"===f._reglType?(n.elements.destroy(),n.ownsElements=!1):(n.elements(f),n.ownsElements=!1):o.getElements(t.elements)?(n.elements=t.elements,n.ownsElements=!1):(n.elements=o.create(t.elements),n.ownsElements=!0)}else n.elements=null,n.ownsElements=!1;a=t.attributes,n.offset=0,n.count=-1,n.instances=-1,n.primitive=4,n.elements&&(n.count=n.elements._elements.vertCount,n.primitive=n.elements._elements.primType),"offset"in t&&(n.offset=0|t.offset),"count"in t&&(n.count=0|t.count),"instances"in t&&(n.instances=0|t.instances),"primitive"in t&&(re(t.primitive in Gt,"bad primitive type: "+t.primitive),n.primitive=Gt[t.primitive]),re.optional((()=>{for(var e=Object.keys(t),r=0;r<e.length;++r)re(Va.indexOf(e[r])>=0,'invalid option for vao: "'+e[r]+'" valid options are '+Va)})),re(Array.isArray(a),"attributes must be an array")}re(a.length<u,"too many attributes"),re(a.length>0,"must specify at least one attribute");var c={},l=n.attributes;l.length=a.length;for(var d=0;d<a.length;++d){var p,m=a[d],h=l[d]=new Ha,v=m.data||m;Array.isArray(v)||e(v)||At(v)?(n.buffers[d]&&(p=n.buffers[d],e(v)&&p._buffer.byteLength>=v.byteLength?p.subdata(v):(p.destroy(),n.buffers[d]=null)),n.buffers[d]||(p=n.buffers[d]=i.create(m,Ba,!1,!0)),h.buffer=i.getBuffer(p),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,c[d]=1):i.getBuffer(m)?(h.buffer=i.getBuffer(m),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):i.getBuffer(m.buffer)?(h.buffer=i.getBuffer(m.buffer),h.size=0|(+m.size||h.buffer.dimension),h.normalized=!!m.normalized||!1,"type"in m?(re.parameter(m.type,Mt,"invalid buffer type"),h.type=Mt[m.type]):h.type=h.buffer.dtype,h.offset=0|(m.offset||0),h.stride=0|(m.stride||0),h.divisor=0|(m.divisor||0),h.state=1,re(h.size>=1&&h.size<=4,"size must be between 1 and 4"),re(h.offset>=0,"invalid offset"),re(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),re(h.divisor>=0,"divisor must be positive"),re(!h.divisor||!!r.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in m?(re(d>0,"first attribute must not be a constant"),h.x=+m.x||0,h.y=+m.y||0,h.z=+m.z||0,h.w=+m.w||0,h.state=2):re(!1,"invalid attribute spec for location "+d)}for(var y=0;y<n.buffers.length;++y)!c[y]&&n.buffers[y]&&(n.buffers[y].destroy(),n.buffers[y]=null);return n.refresh(),s}return a.vaoCount+=1,s.destroy=function(){for(var e=0;e<n.buffers.length;++e)n.buffers[e]&&n.buffers[e].destroy();n.buffers.length=0,n.ownsElements&&(n.elements.destroy(),n.elements=null,n.ownsElements=!1),n.destroy()},s._vao=n,s._reglType="vao",s(t)}return w.prototype.bindAttrs=function(){for(var e=v(),r=this.attributes,n=0;n<r.length;++n){var a=r[n];a.buffer?(t.enableVertexAttribArray(n),t.bindBuffer(Ba,a.buffer.buffer),t.vertexAttribPointer(n,a.size,a.type,a.normalized,a.stride,a.offset),e&&a.divisor&&e.vertexAttribDivisorANGLE(n,a.divisor)):(t.disableVertexAttribArray(n),t.vertexAttrib4f(n,a.x,a.y,a.z,a.w))}for(var i=r.length;i<u;++i)t.disableVertexAttribArray(i);var s=o.getElements(this.elements);s?t.bindBuffer(Na,s.buffer.buffer):t.bindBuffer(Na,null)},w.prototype.refresh=function(){var e=h();e&&(e.bindVertexArrayOES(this.vao),this.bindAttrs(),p.currentVAO=null,e.bindVertexArrayOES(null))},w.prototype.destroy=function(){if(this.vao){var e=h();this===p.currentVAO&&(p.currentVAO=null,e.bindVertexArrayOES(null)),e.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),d[this.id]&&(delete d[this.id],a.vaoCount-=1)},p}var Wa=35632,$a=35633,Ga=35718,qa=35721;function Ya(e,r,n,a){var i={},o={};function s(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function u(e,t){for(var r=0;r<e.length;++r)if(e[r].id===t.id)return void(e[r].location=t.location);e.push(t)}function f(t,n,a){var s=t===Wa?i:o,u=s[n];if(!u){var f=r.str(n);u=e.createShader(t),e.shaderSource(u,f),e.compileShader(u),re.shaderError(e,u,f,t,a),s[n]=u}return u}var c={},l=[],d=0;function p(e,t){this.id=d++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,a.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function m(t,n,i){var o,c,l=f(Wa,t.fragId),d=f($a,t.vertId),p=t.program=e.createProgram();if(e.attachShader(p,l),e.attachShader(p,d),i)for(o=0;o<i.length;++o){var m=i[o];e.bindAttribLocation(p,m[0],m[1])}e.linkProgram(p),re.linkError(e,p,r.str(t.fragId),r.str(t.vertId),n);var h=e.getProgramParameter(p,Ga);a.profile&&(t.stats.uniformsCount=h);var v=t.uniforms;for(o=0;o<h;++o)if(c=e.getActiveUniform(p,o))if(c.size>1)for(var y=0;y<c.size;++y){var b=c.name.replace("[0]","["+y+"]");u(v,new s(b,r.id(b),e.getUniformLocation(p,b),c))}else u(v,new s(c.name,r.id(c.name),e.getUniformLocation(p,c.name),c));var g=e.getProgramParameter(p,qa);a.profile&&(t.stats.attributesCount=g);var x=t.attributes;for(o=0;o<g;++o)(c=e.getActiveAttrib(p,o))&&u(x,new s(c.name,r.id(c.name),e.getAttribLocation(p,c.name),c))}function h(){i={},o={};for(var e=0;e<l.length;++e)m(l[e],null,l[e].attributes.map((function(e){return[e.location,e.name]})))}return a.profile&&(n.getMaxUniformsCount=function(){var e=0;return l.forEach((function(t){t.stats.uniformsCount>e&&(e=t.stats.uniformsCount)})),e},n.getMaxAttributesCount=function(){var e=0;return l.forEach((function(t){t.stats.attributesCount>e&&(e=t.stats.attributesCount)})),e}),{clear:function(){var t=e.deleteShader.bind(e);Et(i).forEach(t),i={},Et(o).forEach(t),o={},l.forEach((function(t){e.deleteProgram(t.program)})),l.length=0,c={},n.shaderCount=0},program:function(r,a,s,u){re.command(r>=0,"missing vertex shader",s),re.command(a>=0,"missing fragment shader",s);var f=c[a];f||(f=c[a]={});var d=f[r];if(d&&(d.refCount++,!u))return d;var h=new p(a,r);return n.shaderCount++,m(h,s,u),d||(f[r]=h),l.push(h),t(h,{destroy:function(){if(h.refCount--,h.refCount<=0){e.deleteProgram(h.program);var t=l.indexOf(h);l.splice(t,1),n.shaderCount--}f[h.vertId].refCount<=0&&(e.deleteShader(o[h.vertId]),delete o[h.vertId],delete c[h.fragId][h.vertId]),Object.keys(c[h.fragId]).length||(e.deleteShader(i[h.fragId]),delete i[h.fragId],delete c[h.fragId])}})},restore:h,shader:f,frag:-1,vert:-1}}var Qa=6408,Ja=5121,Xa=3333,Ka=5126;function Za(t,r,n,a,i,o,s){function u(u){var f;null===r.next?(re(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),f=Ja):(re(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),f=r.next.colorAttachments[0].texture._texture.type,re.optional((function(){o.oes_texture_float?(re(f===Ja||f===Ka,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),f===Ka&&re(s.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):re(f===Ja,"Reading from a framebuffer is only allowed for the type 'uint8'")})));var c=0,l=0,d=a.framebufferWidth,p=a.framebufferHeight,m=null;e(u)?m=u:u&&(re.type(u,"object","invalid arguments to regl.read()"),c=0|u.x,l=0|u.y,re(c>=0&&c<a.framebufferWidth,"invalid x offset for regl.read"),re(l>=0&&l<a.framebufferHeight,"invalid y offset for regl.read"),d=0|(u.width||a.framebufferWidth-c),p=0|(u.height||a.framebufferHeight-l),m=u.data||null),m&&(f===Ja?re(m instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):f===Ka&&re(m instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),re(d>0&&d+c<=a.framebufferWidth,"invalid width for read pixels"),re(p>0&&p+l<=a.framebufferHeight,"invalid height for read pixels"),n();var h=d*p*4;return m||(f===Ja?m=new Uint8Array(h):f===Ka&&(m=m||new Float32Array(h))),re.isTypedArray(m,"data buffer for regl.read() must be a typedarray"),re(m.byteLength>=h,"data buffer for regl.read() too small"),t.pixelStorei(Xa,4),t.readPixels(c,l,d,p,Qa,f,m),m}function f(e){var t;return r.setFBO({framebuffer:e.framebuffer},(function(){t=u(e)})),t}function c(e){return e&&"framebuffer"in e?f(e):u(e)}return c}function ei(e){return Array.prototype.slice.call(e)}function ti(e){return ei(e).join("")}function ri(){var e=0,r=[],n=[];function a(t){for(var a=0;a<n.length;++a)if(n[a]===t)return r[a];var i="g"+e++;return r.push(i),n.push(t),i}function i(){var r=[];function n(){r.push.apply(r,ei(arguments))}var a=[];function i(){var t="v"+e++;return a.push(t),arguments.length>0&&(r.push(t,"="),r.push.apply(r,ei(arguments)),r.push(";")),t}return t(n,{def:i,toString:function(){return ti([a.length>0?"var "+a.join(",")+";":"",ti(r)])}})}function o(){var e=i(),r=i(),n=e.toString,a=r.toString;function o(t,n){r(t,n,"=",e.def(t,n),";")}return t((function(){e.apply(e,ei(arguments))}),{def:e.def,entry:e,exit:r,save:o,set:function(t,r,n){o(t,r),e(t,r,"=",n,";")},toString:function(){return n()+a()}})}function s(){var e=ti(arguments),r=o(),n=o(),a=r.toString,i=n.toString;return t(r,{then:function(){return r.apply(r,ei(arguments)),this},else:function(){return n.apply(n,ei(arguments)),this},toString:function(){var t=i();return t&&(t="else{"+t+"}"),ti(["if(",e,"){",a(),"}",t])}})}var u=i(),f={};function c(e,r){var n=[];function a(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var i=0;i<r;++i)a();var s=o(),u=s.toString;return f[e]=t(s,{arg:a,toString:function(){return ti(["function(",n.join(),"){",u(),"}"])}})}function l(){var e=['"use strict";',u,"return {"];Object.keys(f).forEach((function(t){e.push('"',t,'":',f[t].toString(),",")})),e.push("}");var t=ti(e).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(t)).apply(null,n)}return{global:u,link:a,block:i,proc:c,scope:o,cond:s,compile:l}}var ni="xyzw".split(""),ai=5121,ii=1,oi=2,si=0,ui=1,fi=2,ci=3,li=4,di=5,pi=6,mi="dither",hi="blend.enable",vi="blend.color",yi="blend.equation",bi="blend.func",gi="depth.enable",xi="depth.func",wi="depth.range",Si="depth.mask",Ai="colorMask",Ei="cull.enable",_i="cull.face",ki="frontFace",Oi="lineWidth",Ci="polygonOffset.enable",Ti="polygonOffset.offset",ji="sample.alpha",Di="sample.enable",Ri="sample.coverage",Mi="stencil.enable",Pi="stencil.mask",Li="stencil.func",Fi="stencil.opFront",zi="stencil.opBack",Ii="scissor.enable",Bi="scissor.box",Ni="viewport",Vi="profile",Hi="framebuffer",Ui="vert",Wi="frag",$i="elements",Gi="primitive",qi="count",Yi="offset",Qi="instances",Ji="vao",Xi="Width",Ki="Height",Zi=Hi+Xi,eo=Hi+Ki,to=Ni+Xi,ro=Ni+Ki,no="drawingBuffer",ao=no+Xi,io=no+Ki,oo=[bi,yi,Li,Fi,zi,Ri,Ni,Bi,Ti],so=34962,uo=34963,fo=3553,co=34067,lo=2884,po=3042,mo=3024,ho=2960,vo=2929,yo=3089,bo=32823,go=32926,xo=32928,wo=5126,So=35664,Ao=35665,Eo=35666,_o=5124,ko=35667,Oo=35668,Co=35669,To=35670,jo=35671,Do=35672,Ro=35673,Mo=35674,Po=35675,Lo=35676,Fo=35678,zo=35680,Io=4,Bo=1028,No=1029,Vo=2304,Ho=2305,Uo=32775,Wo=32776,$o=519,Go=7680,qo=0,Yo=1,Qo=32774,Jo=513,Xo=36160,Ko=36064,Zo={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},es=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ts={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},rs={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ns={frag:35632,vert:35633},as={cw:Vo,ccw:Ho};function is(t){return Array.isArray(t)||e(t)||At(t)}function os(e){return e.sort((function(e,t){return e===Ni?-1:t===Ni?1:e<t?-1:1}))}function ss(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function us(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function fs(e){return new ss(!1,!1,!1,e)}function cs(e,t){var r=e.type;if(r===si){var n=e.data.length;return new ss(!0,n>=1,n>=2,t)}if(r===li){var a=e.data;return new ss(a.thisDep,a.contextDep,a.propDep,t)}if(r===di)return new ss(!1,!1,!1,t);if(r===pi){for(var i=!1,o=!1,s=!1,u=0;u<e.data.length;++u){var f=e.data[u];if(f.type===ui)s=!0;else if(f.type===fi)o=!0;else if(f.type===ci)i=!0;else if(f.type===si){i=!0;var c=f.data;c>=1&&(o=!0),c>=2&&(s=!0)}else f.type===li&&(i=i||f.data.thisDep,o=o||f.data.contextDep,s=s||f.data.propDep)}return new ss(i,o,s,t)}return new ss(r===ci,r===fi,r===ui,t)}var ls=new ss(!1,!1,!1,(function(){}));function ds(e,r,n,a,i,o,s,u,f,c,l,d,p,m,h){var v=c.Record,y={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(y.min=Uo,y.max=Wo);var b=n.angle_instanced_arrays,g=n.webgl_draw_buffers,x=n.oes_vertex_array_object,w={dirty:!0,profile:h.profile},S={},A=[],E={},_={};function k(e){return e.replace(".","_")}function O(e,t,r){var n=k(e);A.push(e),S[n]=w[n]=!!r,E[n]=t}function C(e,t,r){var n=k(e);A.push(e),Array.isArray(r)?(w[n]=r.slice(),S[n]=r.slice()):w[n]=S[n]=r,_[n]=t}O(mi,mo),O(hi,po),C(vi,"blendColor",[0,0,0,0]),C(yi,"blendEquationSeparate",[Qo,Qo]),C(bi,"blendFuncSeparate",[Yo,qo,Yo,qo]),O(gi,vo,!0),C(xi,"depthFunc",Jo),C(wi,"depthRange",[0,1]),C(Si,"depthMask",!0),C(Ai,Ai,[!0,!0,!0,!0]),O(Ei,lo),C(_i,"cullFace",No),C(ki,ki,Ho),C(Oi,Oi,1),O(Ci,bo),C(Ti,"polygonOffset",[0,0]),O(ji,go),O(Di,xo),C(Ri,"sampleCoverage",[1,!1]),O(Mi,ho),C(Pi,"stencilMask",-1),C(Li,"stencilFunc",[$o,0,-1]),C(Fi,"stencilOpSeparate",[Bo,Go,Go,Go]),C(zi,"stencilOpSeparate",[No,Go,Go,Go]),O(Ii,yo),C(Bi,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),C(Ni,Ni,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var T={gl:e,context:p,strings:r,next:S,current:w,draw:d,elements:o,buffer:i,shader:l,attributes:c.state,vao:c,uniforms:f,framebuffer:u,extensions:n,timer:m,isBufferArgs:is},j={primTypes:Gt,compareFuncs:ts,blendFuncs:Zo,blendEquations:y,stencilOps:rs,glTypes:Mt,orientationType:as};re.optional((function(){T.isArrayLike=cr})),g&&(j.backBuffer=[No],j.drawBuffer=ke(a.maxDrawbuffers,(function(e){return 0===e?[0]:ke(e,(function(e){return Ko+e}))})));var D=0;function R(){var e=ri(),t=e.link,n=e.global;e.id=D++,e.batchId="0";var a=t(T),i=e.shared={props:"a0"};Object.keys(T).forEach((function(e){i[e]=n.def(a,".",e)})),re.optional((function(){e.CHECK=t(re),e.commandStr=re.guessCommand(),e.command=t(e.commandStr),e.assert=function(e,r,n){e("if(!(",r,"))",this.CHECK,".commandRaise(",t(n),",",this.command,");")},j.invalidBlendCombinations=es}));var o=e.next={},s=e.current={};Object.keys(_).forEach((function(e){Array.isArray(w[e])&&(o[e]=n.def(i.next,".",e),s[e]=n.def(i.current,".",e))}));var u=e.constants={};Object.keys(j).forEach((function(e){u[e]=n.def(JSON.stringify(j[e]))})),e.invoke=function(r,n){switch(n.type){case si:var a=["this",i.context,i.props,e.batchId];return r.def(t(n.data),".call(",a.slice(0,Math.max(n.data.length+1,4)),")");case ui:return r.def(i.props,n.data);case fi:return r.def(i.context,n.data);case ci:return r.def("this",n.data);case li:return n.data.append(e,r),n.data.ref;case di:return n.data.toString();case pi:return n.data.map((function(t){return e.invoke(r,t)}))}},e.attribCache={};var f={};return e.scopeAttrib=function(e){var n=r.id(e);if(n in f)return f[n];var a=c.scope[n];return a||(a=c.scope[n]=new v),f[n]=t(a)},e}function M(e){var t,r=e.static,n=e.dynamic;if(Vi in r){var a=!!r[Vi];(t=fs((function(e,t){return a}))).enable=a}else if(Vi in n){var i=n[Vi];t=cs(i,(function(e,t){return e.invoke(t,i)}))}return t}function P(e,t){var r=e.static,n=e.dynamic;if(Hi in r){var a=r[Hi];return a?(a=u.getFramebuffer(a),re.command(a,"invalid framebuffer object"),fs((function(e,t){var r=e.link(a),n=e.shared;t.set(n.framebuffer,".next",r);var i=n.context;return t.set(i,"."+Zi,r+".width"),t.set(i,"."+eo,r+".height"),r}))):fs((function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+Zi,n+"."+ao),t.set(n,"."+eo,n+"."+io),"null"}))}if(Hi in n){var i=n[Hi];return cs(i,(function(e,t){var r=e.invoke(t,i),n=e.shared,a=n.framebuffer,o=t.def(a,".getFramebuffer(",r,")");re.optional((function(){e.assert(t,"!"+r+"||"+o,"invalid framebuffer object")})),t.set(a,".next",o);var s=n.context;return t.set(s,"."+Zi,o+"?"+o+".width:"+s+"."+ao),t.set(s,"."+eo,o+"?"+o+".height:"+s+"."+io),o}))}return null}function L(e,t,r){var n=e.static,a=e.dynamic;function i(e){if(e in n){var i=n[e];re.commandType(i,"object","invalid "+e,r.commandStr);var o,s,u=!0,f=0|i.x,c=0|i.y;return"width"in i?(o=0|i.width,re.command(o>=0,"invalid "+e,r.commandStr)):u=!1,"height"in i?(s=0|i.height,re.command(s>=0,"invalid "+e,r.commandStr)):u=!1,new ss(!u&&t&&t.thisDep,!u&&t&&t.contextDep,!u&&t&&t.propDep,(function(e,t){var r=e.shared.context,n=o;"width"in i||(n=t.def(r,".",Zi,"-",f));var a=s;return"height"in i||(a=t.def(r,".",eo,"-",c)),[f,c,n,a]}))}if(e in a){var l=a[e],d=cs(l,(function(t,r){var n=t.invoke(r,l);re.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}));var a=t.shared.context,i=r.def(n,".x|0"),o=r.def(n,".y|0"),s=r.def('"width" in ',n,"?",n,".width|0:","(",a,".",Zi,"-",i,")"),u=r.def('"height" in ',n,"?",n,".height|0:","(",a,".",eo,"-",o,")");return re.optional((function(){t.assert(r,s+">=0&&"+u+">=0","invalid "+e)})),[i,o,s,u]}));return t&&(d.thisDep=d.thisDep||t.thisDep,d.contextDep=d.contextDep||t.contextDep,d.propDep=d.propDep||t.propDep),d}return t?new ss(t.thisDep,t.contextDep,t.propDep,(function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",Zi),t.def(r,".",eo)]})):null}var o=i(Ni);if(o){var s=o;o=new ss(o.thisDep,o.contextDep,o.propDep,(function(e,t){var r=s.append(e,t),n=e.shared.context;return t.set(n,"."+to,r[2]),t.set(n,"."+ro,r[3]),r}))}return{viewport:o,scissor_box:i(Bi)}}function F(e,t){var r=e.static;if("string"===typeof r[Wi]&&"string"===typeof r[Ui]){if(Object.keys(t.dynamic).length>0)return null;var n=t.static,a=Object.keys(n);if(a.length>0&&"number"===typeof n[a[0]]){for(var i=[],o=0;o<a.length;++o)re("number"===typeof n[a[o]],"must specify all vertex attribute locations when using vaos"),i.push([0|n[a[o]],a[o]]);return i}}return null}function z(e,t,n){var a=e.static,i=e.dynamic;function o(e){if(e in a){var t=r.id(a[e]);re.optional((function(){l.shader(ns[e],t,re.guessCommand())}));var n=fs((function(){return t}));return n.id=t,n}if(e in i){var o=i[e];return cs(o,(function(t,r){var n=t.invoke(r,o),a=r.def(t.shared.strings,".id(",n,")");return re.optional((function(){r(t.shared.shader,".shader(",ns[e],",",a,",",t.command,");")})),a}))}return null}var s,u=o(Wi),f=o(Ui),c=null;return us(u)&&us(f)?(c=l.program(f.id,u.id,null,n),s=fs((function(e,t){return e.link(c)}))):s=new ss(u&&u.thisDep||f&&f.thisDep,u&&u.contextDep||f&&f.contextDep,u&&u.propDep||f&&f.propDep,(function(e,t){var r,n=e.shared.shader;r=u?u.append(e,t):t.def(n,".",Wi);var a=n+".program("+(f?f.append(e,t):t.def(n,".",Ui))+","+r;return re.optional((function(){a+=","+e.command})),t.def(a+")")})),{frag:u,vert:f,progVar:s,program:c}}function I(e,t){var r=e.static,n=e.dynamic,a={},i=!1;function s(){if(Ji in r){var e=r[Ji];return null!==e&&null===c.getVAO(e)&&(e=c.createVAO(e)),i=!0,a.vao=e,fs((function(t){var r=c.getVAO(e);return r?t.link(r):"null"}))}if(Ji in n){i=!0;var t=n[Ji];return cs(t,(function(e,r){var n=e.invoke(r,t);return r.def(e.shared.vao+".getVAO("+n+")")}))}return null}var u=s(),f=!1;function l(){if($i in r){var e=r[$i];if(a.elements=e,is(e)){var s=a.elements=o.create(e,!0);e=o.getElements(s),f=!0}else e&&(e=o.getElements(e),f=!0,re.command(e,"invalid elements",t.commandStr));var c=fs((function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null}));return c.value=e,c}if($i in n){f=!0;var l=n[$i];return cs(l,(function(e,t){var r=e.shared,n=r.isBufferArgs,a=r.elements,i=e.invoke(t,l),o=t.def("null"),s=t.def(n,"(",i,")"),u=e.cond(s).then(o,"=",a,".createStream(",i,");").else(o,"=",a,".getElements(",i,");");return re.optional((function(){e.assert(u.else,"!"+i+"||"+o,"invalid elements")})),t.entry(u),t.exit(e.cond(s).then(a,".destroyStream(",o,");")),e.ELEMENTS=o,o}))}return i?new ss(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.elements+".getElements("+e.shared.vao+".currentVAO.elements):null")})):null}var d=l();function p(){if(Gi in r){var e=r[Gi];return a.primitive=e,re.commandParameter(e,Gt,"invalid primitve",t.commandStr),fs((function(t,r){return Gt[e]}))}if(Gi in n){var o=n[Gi];return cs(o,(function(e,t){var r=e.constants.primTypes,n=e.invoke(t,o);return re.optional((function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(Gt))})),t.def(r,"[",n,"]")}))}return f?us(d)?d.value?fs((function(e,t){return t.def(e.ELEMENTS,".primType")})):fs((function(){return Io})):new ss(d.thisDep,d.contextDep,d.propDep,(function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",Io)})):i?new ss(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.primitive:"+Io)})):null}function m(e,o){if(e in r){var s=0|r[e];return o?a.offset=s:a.instances=s,re.command(!o||s>=0,"invalid "+e,t.commandStr),fs((function(e,t){return o&&(e.OFFSET=s),s}))}if(e in n){var c=n[e];return cs(c,(function(t,r){var n=t.invoke(r,c);return o&&(t.OFFSET=n,re.optional((function(){t.assert(r,n+">=0","invalid "+e)}))),n}))}if(o){if(f)return fs((function(e,t){return e.OFFSET=0,0}));if(i)return new ss(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.offset:0")}))}else if(i)return new ss(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao+".currentVAO?"+e.shared.vao+".currentVAO.instances:-1")}));return null}var h=m(Yi,!0);function v(){if(qi in r){var e=0|r[qi];return a.count=e,re.command("number"===typeof e&&e>=0,"invalid vertex count",t.commandStr),fs((function(){return e}))}if(qi in n){var o=n[qi];return cs(o,(function(e,t){var r=e.invoke(t,o);return re.optional((function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")})),r}))}if(f){if(us(d)){if(d)return h?new ss(h.thisDep,h.contextDep,h.propDep,(function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return re.optional((function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")})),r})):fs((function(e,t){return t.def(e.ELEMENTS,".vertCount")}));var s=fs((function(){return-1}));return re.optional((function(){s.MISSING=!0})),s}var c=new ss(d.thisDep||h.thisDep,d.contextDep||h.contextDep,d.propDep||h.propDep,(function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")}));return re.optional((function(){c.DYNAMIC=!0})),c}if(i){var l=new ss(u.thisDep,u.contextDep,u.propDep,(function(e,t){return t.def(e.shared.vao,".currentVAO?",e.shared.vao,".currentVAO.count:-1")}));return l}return null}var y=p(),b=v(),g=m(Qi,!1);return{elements:d,primitive:y,count:b,instances:g,offset:h,vao:u,vaoActive:i,elementsActive:f,static:a}}function B(e,t){var r=e.static,n=e.dynamic,i={};return A.forEach((function(e){var o=k(e);function s(t,a){if(e in r){var s=t(r[e]);i[o]=fs((function(){return s}))}else if(e in n){var u=n[e];i[o]=cs(u,(function(e,t){return a(e,t,e.invoke(t,u))}))}}switch(e){case Ei:case hi:case mi:case Mi:case gi:case Ii:case Ci:case ji:case Di:case Si:return s((function(r){return re.commandType(r,"boolean",e,t.commandStr),r}),(function(t,r,n){return re.optional((function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)})),n}));case xi:return s((function(r){return re.commandParameter(r,ts,"invalid "+e,t.commandStr),ts[r]}),(function(t,r,n){var a=t.constants.compareFuncs;return re.optional((function(){t.assert(r,n+" in "+a,"invalid "+e+", must be one of "+Object.keys(ts))})),r.def(a,"[",n,"]")}));case wi:return s((function(e){return re.command(cr(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e}),(function(e,t,r){return re.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")})),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]}));case bi:return s((function(e){re.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,a="dstRGB"in e?e.dstRGB:e.dst,i="dstAlpha"in e?e.dstAlpha:e.dst;return re.commandParameter(r,Zo,o+".srcRGB",t.commandStr),re.commandParameter(n,Zo,o+".srcAlpha",t.commandStr),re.commandParameter(a,Zo,o+".dstRGB",t.commandStr),re.commandParameter(i,Zo,o+".dstAlpha",t.commandStr),re.command(-1===es.indexOf(r+", "+a),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+a+")",t.commandStr),[Zo[r],Zo[a],Zo[n],Zo[i]]}),(function(t,r,n){var a=t.constants.blendFuncs;function i(i,o){var s=r.def('"',i,o,'" in ',n,"?",n,".",i,o,":",n,".",i);return re.optional((function(){t.assert(r,s+" in "+a,"invalid "+e+"."+i+o+", must be one of "+Object.keys(Zo))})),s}re.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")}));var o=i("src","RGB"),s=i("dst","RGB");re.optional((function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+o+'+", "+'+s+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var u=r.def(a,"[",o,"]"),f=r.def(a,"[",i("src","Alpha"),"]");return[u,r.def(a,"[",s,"]"),f,r.def(a,"[",i("dst","Alpha"),"]")]}));case yi:return s((function(r){return"string"===typeof r?(re.commandParameter(r,y,"invalid "+e,t.commandStr),[y[r],y[r]]):"object"===typeof r?(re.commandParameter(r.rgb,y,e+".rgb",t.commandStr),re.commandParameter(r.alpha,y,e+".alpha",t.commandStr),[y[r.rgb],y[r.alpha]]):void re.commandRaise("invalid blend.equation",t.commandStr)}),(function(t,r,n){var a=t.constants.blendEquations,i=r.def(),o=r.def(),s=t.cond("typeof ",n,'==="string"');return re.optional((function(){function r(e,r,n){t.assert(e,n+" in "+a,"invalid "+r+", must be one of "+Object.keys(y))}r(s.then,e,n),t.assert(s.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(s.else,e+".rgb",n+".rgb"),r(s.else,e+".alpha",n+".alpha")})),s.then(i,"=",o,"=",a,"[",n,"];"),s.else(i,"=",a,"[",n,".rgb];",o,"=",a,"[",n,".alpha];"),r(s),[i,o]}));case vi:return s((function(e){return re.command(cr(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),ke(4,(function(t){return+e[t]}))}),(function(e,t,r){return re.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")})),ke(4,(function(e){return t.def("+",r,"[",e,"]")}))}));case Pi:return s((function(e){return re.commandType(e,"number",o,t.commandStr),0|e}),(function(e,t,r){return re.optional((function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")})),t.def(r,"|0")}));case Li:return s((function(r){re.commandType(r,"object",o,t.commandStr);var n=r.cmp||"keep",a=r.ref||0,i="mask"in r?r.mask:-1;return re.commandParameter(n,ts,e+".cmp",t.commandStr),re.commandType(a,"number",e+".ref",t.commandStr),re.commandType(i,"number",e+".mask",t.commandStr),[ts[n],a,i]}),(function(e,t,r){var n=e.constants.compareFuncs;return re.optional((function(){function a(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}a(r+"&&typeof ",r,'==="object"'),a('!("cmp" in ',r,")||(",r,".cmp in ",n,")")})),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Go),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]}));case Fi:case zi:return s((function(r){re.commandType(r,"object",o,t.commandStr);var n=r.fail||"keep",a=r.zfail||"keep",i=r.zpass||"keep";return re.commandParameter(n,rs,e+".fail",t.commandStr),re.commandParameter(a,rs,e+".zfail",t.commandStr),re.commandParameter(i,rs,e+".zpass",t.commandStr),[e===zi?No:Bo,rs[n],rs[a],rs[i]]}),(function(t,r,n){var a=t.constants.stencilOps;function i(i){return re.optional((function(){t.assert(r,'!("'+i+'" in '+n+")||("+n+"."+i+" in "+a+")","invalid "+e+"."+i+", must be one of "+Object.keys(rs))})),r.def('"',i,'" in ',n,"?",a,"[",n,".",i,"]:",Go)}return re.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)})),[e===zi?No:Bo,i("fail"),i("zfail"),i("zpass")]}));case Ti:return s((function(e){re.commandType(e,"object",o,t.commandStr);var r=0|e.factor,n=0|e.units;return re.commandType(r,"number",o+".factor",t.commandStr),re.commandType(n,"number",o+".units",t.commandStr),[r,n]}),(function(t,r,n){return re.optional((function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)})),[r.def(n,".factor|0"),r.def(n,".units|0")]}));case _i:return s((function(e){var r=0;return"front"===e?r=Bo:"back"===e&&(r=No),re.command(!!r,o,t.commandStr),r}),(function(e,t,r){return re.optional((function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")})),t.def(r,'==="front"?',Bo,":",No)}));case Oi:return s((function(e){return re.command("number"===typeof e&&e>=a.lineWidthDims[0]&&e<=a.lineWidthDims[1],"invalid line width, must be a positive number between "+a.lineWidthDims[0]+" and "+a.lineWidthDims[1],t.commandStr),e}),(function(e,t,r){return re.optional((function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+a.lineWidthDims[0]+"&&"+r+"<="+a.lineWidthDims[1],"invalid line width")})),r}));case ki:return s((function(e){return re.commandParameter(e,as,o,t.commandStr),as[e]}),(function(e,t,r){return re.optional((function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),t.def(r+'==="cw"?'+Vo+":"+Ho)}));case Ai:return s((function(e){return re.command(cr(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map((function(e){return!!e}))}),(function(e,t,r){return re.optional((function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")})),ke(4,(function(e){return"!!"+r+"["+e+"]"}))}));case Ri:return s((function(e){re.command("object"===typeof e&&e,o,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return re.command("number"===typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]}),(function(e,t,r){return re.optional((function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")})),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]}))}})),i}function N(e,t){var r=e.static,n=e.dynamic,a={};return Object.keys(r).forEach((function(e){var n,i=r[e];if("number"===typeof i||"boolean"===typeof i)n=fs((function(){return i}));else if("function"===typeof i){var o=i._reglType;"texture2d"===o||"textureCube"===o?n=fs((function(e){return e.link(i)})):"framebuffer"===o||"framebufferCube"===o?(re.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=fs((function(e){return e.link(i.color[0])}))):re.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else cr(i)?n=fs((function(t){return t.global.def("[",ke(i.length,(function(r){return re.command("number"===typeof i[r]||"boolean"===typeof i[r],"invalid uniform "+e,t.commandStr),i[r]})),"]")})):re.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=i,a[e]=n})),Object.keys(n).forEach((function(e){var t=n[e];a[e]=cs(t,(function(e,r){return e.invoke(r,t)}))})),a}function V(e,t){var n=e.static,a=e.dynamic,o={};return Object.keys(n).forEach((function(e){var a=n[e],s=r.id(e),u=new v;if(is(a))u.state=ii,u.buffer=i.getBuffer(i.create(a,so,!1,!0)),u.type=0;else{var f=i.getBuffer(a);if(f)u.state=ii,u.buffer=f,u.type=0;else if(re.command("object"===typeof a&&a,"invalid data for attribute "+e,t.commandStr),"constant"in a){var c=a.constant;u.buffer="null",u.state=oi,"number"===typeof c?u.x=c:(re.command(cr(c)&&c.length>0&&c.length<=4,"invalid constant for attribute "+e,t.commandStr),ni.forEach((function(e,t){t<c.length&&(u[e]=c[t])})))}else{f=is(a.buffer)?i.getBuffer(i.create(a.buffer,so,!1,!0)):i.getBuffer(a.buffer),re.command(!!f,'missing buffer for attribute "'+e+'"',t.commandStr);var l=0|a.offset;re.command(l>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var d=0|a.stride;re.command(d>=0&&d<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var p=0|a.size;re.command(!("size"in a)||p>0&&p<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var m=!!a.normalized,h=0;"type"in a&&(re.commandParameter(a.type,Mt,"invalid type for attribute "+e,t.commandStr),h=Mt[a.type]);var y=0|a.divisor;re.optional((function(){"divisor"in a&&(re.command(0===y||b,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),re.command(y>=0,'invalid divisor for attribute "'+e+'"',t.commandStr));var r=t.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(a).forEach((function(t){re.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r)}))})),u.buffer=f,u.state=ii,u.size=p,u.normalized=m,u.type=h||f.dtype,u.offset=l,u.stride=d,u.divisor=y}}o[e]=fs((function(e,t){var r=e.attribCache;if(s in r)return r[s];var n={isStream:!1};return Object.keys(u).forEach((function(e){n[e]=u[e]})),u.buffer&&(n.buffer=e.link(u.buffer),n.type=n.type||n.buffer+".dtype"),r[s]=n,n}))})),Object.keys(a).forEach((function(e){var t=a[e];function r(r,n){var a=r.invoke(n,t),i=r.shared,o=r.constants,s=i.isBufferArgs,u=i.buffer;re.optional((function(){r.assert(n,a+"&&(typeof "+a+'==="object"||typeof '+a+'==="function")&&('+s+"("+a+")||"+u+".getBuffer("+a+")||"+u+".getBuffer("+a+".buffer)||"+s+"("+a+'.buffer)||("constant" in '+a+"&&(typeof "+a+'.constant==="number"||'+i.isArrayLike+"("+a+".constant))))",'invalid dynamic attribute "'+e+'"')}));var f={isStream:n.def(!1)},c=new v;c.state=ii,Object.keys(c).forEach((function(e){f[e]=n.def(""+c[e])}));var l=f.buffer,d=f.type;function p(e){n(f[e],"=",a,".",e,"|0;")}return n("if(",s,"(",a,")){",f.isStream,"=true;",l,"=",u,".createStream(",so,",",a,");",d,"=",l,".dtype;","}else{",l,"=",u,".getBuffer(",a,");","if(",l,"){",d,"=",l,".dtype;",'}else if("constant" in ',a,"){",f.state,"=",oi,";","if(typeof "+a+'.constant === "number"){',f[ni[0]],"=",a,".constant;",ni.slice(1).map((function(e){return f[e]})).join("="),"=0;","}else{",ni.map((function(e,t){return f[e]+"="+a+".constant.length>"+t+"?"+a+".constant["+t+"]:0;"})).join(""),"}}else{","if(",s,"(",a,".buffer)){",l,"=",u,".createStream(",so,",",a,".buffer);","}else{",l,"=",u,".getBuffer(",a,".buffer);","}",d,'="type" in ',a,"?",o.glTypes,"[",a,".type]:",l,".dtype;",f.normalized,"=!!",a,".normalized;"),p("size"),p("offset"),p("stride"),p("divisor"),n("}}"),n.exit("if(",f.isStream,"){",u,".destroyStream(",l,");","}"),f}o[e]=cs(t,r)})),o}function H(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach((function(e){var r=t[e];n[e]=fs((function(e,t){return"number"===typeof r||"boolean"===typeof r?""+r:e.link(r)}))})),Object.keys(r).forEach((function(e){var t=r[e];n[e]=cs(t,(function(e,r){return e.invoke(r,t)}))})),n}function U(e,t,r,a,i){var o=e.static,s=e.dynamic;re.optional((function(){var e=[Hi,Ui,Wi,$i,Gi,Yi,qi,Qi,Vi,Ji].concat(A);function t(t){Object.keys(t).forEach((function(t){re.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',i.commandStr)}))}t(o),t(s)}));var u=F(e,t),f=P(e,i),l=L(e,f,i),d=I(e,i),p=B(e,i),m=z(e,i,u);function h(e){var t=l[e];t&&(p[e]=t)}h(Ni),h(k(Bi));var v=Object.keys(p).length>0,y={framebuffer:f,draw:d,shader:m,state:p,dirty:v,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(y.profile=M(e,i),y.uniforms=N(r,i),y.drawVAO=y.scopeVAO=d.vao,!y.drawVAO&&m.program&&!u&&n.angle_instanced_arrays&&d.static.elements){var b=!0,g=m.program.attributes.map((function(e){var r=t.static[e];return b=b&&!!r,r}));if(b&&g.length>0){var x=c.getVAO(c.createVAO({attributes:g,elements:d.static.elements}));y.drawVAO=new ss(null,null,null,(function(e,t){return e.link(x)})),y.useVAO=!0}}return u?y.useVAO=!0:y.attributes=V(t,i),y.context=H(a,i),y}function W(e,t,r){var n=e.shared.context,a=e.scope();Object.keys(r).forEach((function(i){t.save(n,"."+i);var o=r[i].append(e,t);Array.isArray(o)?a(n,".",i,"=[",o.join(),"];"):a(n,".",i,"=",o,";")})),t(a)}function $(e,t,r,n){var a,i=e.shared,o=i.gl,s=i.framebuffer;g&&(a=t.def(i.extensions,".webgl_draw_buffers"));var u,f=e.constants,c=f.drawBuffer,l=f.backBuffer;u=r?r.append(e,t):t.def(s,".next"),n||t("if(",u,"!==",s,".cur){"),t("if(",u,"){",o,".bindFramebuffer(",Xo,",",u,".framebuffer);"),g&&t(a,".drawBuffersWEBGL(",c,"[",u,".colorAttachments.length]);"),t("}else{",o,".bindFramebuffer(",Xo,",null);"),g&&t(a,".drawBuffersWEBGL(",l,");"),t("}",s,".cur=",u,";"),n||t("}")}function G(e,t,r){var n=e.shared,a=n.gl,i=e.current,o=e.next,s=n.current,u=n.next,f=e.cond(s,".dirty");A.forEach((function(t){var n,c,l=k(t);if(!(l in r.state))if(l in o){n=o[l],c=i[l];var d=ke(w[l].length,(function(e){return f.def(n,"[",e,"]")}));f(e.cond(d.map((function(e,t){return e+"!=="+c+"["+t+"]"})).join("||")).then(a,".",_[l],"(",d,");",d.map((function(e,t){return c+"["+t+"]="+e})).join(";"),";"))}else{n=f.def(u,".",l);var p=e.cond(n,"!==",s,".",l);f(p),l in E?p(e.cond(n).then(a,".enable(",E[l],");").else(a,".disable(",E[l],");"),s,".",l,"=",n,";"):p(a,".",_[l],"(",n,");",s,".",l,"=",n,";")}})),0===Object.keys(r.state).length&&f(s,".dirty=false;"),t(f)}function q(e,t,r,n){var a=e.shared,i=e.current,o=a.current,s=a.gl;os(Object.keys(r)).forEach((function(a){var u=r[a];if(!n||n(u)){var f=u.append(e,t);if(E[a]){var c=E[a];us(u)?t(s,f?".enable(":".disable(",c,");"):t(e.cond(f).then(s,".enable(",c,");").else(s,".disable(",c,");")),t(o,".",a,"=",f,";")}else if(cr(f)){var l=i[a];t(s,".",_[a],"(",f,");",f.map((function(e,t){return l+"["+t+"]="+e})).join(";"),";")}else t(s,".",_[a],"(",f,");",o,".",a,"=",f,";")}}))}function Y(e,t){b&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function Q(e,t,r,n,a){var i,o,s,u=e.shared,f=e.stats,c=u.current,l=u.timer,d=r.profile;function p(){return"undefined"===typeof performance?"Date.now()":"performance.now()"}function h(e){e(i=t.def(),"=",p(),";"),"string"===typeof a?e(f,".count+=",a,";"):e(f,".count++;"),m&&(n?e(o=t.def(),"=",l,".getNumPendingQueries();"):e(l,".beginQuery(",f,");"))}function v(e){e(f,".cpuTime+=",p(),"-",i,";"),m&&(n?e(l,".pushScopeStats(",o,",",l,".getNumPendingQueries(),",f,");"):e(l,".endQuery();"))}function y(e){var r=t.def(c,".profile");t(c,".profile=",e,";"),t.exit(c,".profile=",r,";")}if(d){if(us(d))return void(d.enable?(h(t),v(t.exit),y("true")):y("false"));y(s=d.append(e,t))}else s=t.def(c,".profile");var b=e.block();h(b),t("if(",s,"){",b,"}");var g=e.block();v(g),t.exit("if(",s,"){",g,"}")}function J(e,t,r,n,a){var i=e.shared;function o(e){switch(e){case So:case ko:case jo:return 2;case Ao:case Oo:case Do:return 3;case Eo:case Co:case Ro:return 4;default:return 1}}function s(r,n,a){var o=i.gl,s=t.def(r,".location"),u=t.def(i.attributes,"[",s,"]"),f=a.state,c=a.buffer,l=[a.x,a.y,a.z,a.w],d=["buffer","normalized","offset","stride"];function p(){t("if(!",u,".buffer){",o,".enableVertexAttribArray(",s,");}");var r,i=a.type;if(r=a.size?t.def(a.size,"||",n):n,t("if(",u,".type!==",i,"||",u,".size!==",r,"||",d.map((function(e){return u+"."+e+"!=="+a[e]})).join("||"),"){",o,".bindBuffer(",so,",",c,".buffer);",o,".vertexAttribPointer(",[s,r,i,a.normalized,a.stride,a.offset],");",u,".type=",i,";",u,".size=",r,";",d.map((function(e){return u+"."+e+"="+a[e]+";"})).join(""),"}"),b){var f=a.divisor;t("if(",u,".divisor!==",f,"){",e.instancing,".vertexAttribDivisorANGLE(",[s,f],");",u,".divisor=",f,";}")}}function m(){t("if(",u,".buffer){",o,".disableVertexAttribArray(",s,");",u,".buffer=null;","}if(",ni.map((function(e,t){return u+"."+e+"!=="+l[t]})).join("||"),"){",o,".vertexAttrib4f(",s,",",l,");",ni.map((function(e,t){return u+"."+e+"="+l[t]+";"})).join(""),"}")}f===ii?p():f===oi?m():(t("if(",f,"===",ii,"){"),p(),t("}else{"),m(),t("}"))}n.forEach((function(n){var i,u=n.name,f=r.attributes[u];if(f){if(!a(f))return;i=f.append(e,t)}else{if(!a(ls))return;var c=e.scopeAttrib(u);re.optional((function(){e.assert(t,c+".state","missing attribute "+u)})),i={},Object.keys(new v).forEach((function(e){i[e]=t.def(c,".",e)}))}s(e.link(n),o(n.info.type),i)}))}function X(e,t,n,a,i,o){for(var s,u=e.shared,f=u.gl,c=0;c<a.length;++c){var l,d=a[c],p=d.name,m=d.info.type,h=n.uniforms[p],v=e.link(d)+".location";if(h){if(!i(h))continue;if(us(h)){var y=h.value;if(re.command(null!==y&&"undefined"!==typeof y,'missing uniform "'+p+'"',e.commandStr),m===Fo||m===zo){re.command("function"===typeof y&&(m===Fo&&("texture2d"===y._reglType||"framebuffer"===y._reglType)||m===zo&&("textureCube"===y._reglType||"framebufferCube"===y._reglType)),"invalid texture for uniform "+p,e.commandStr);var b=e.link(y._texture||y.color[0]._texture);t(f,".uniform1i(",v,",",b+".bind());"),t.exit(b,".unbind();")}else if(m===Mo||m===Po||m===Lo){re.optional((function(){re.command(cr(y),"invalid matrix for uniform "+p,e.commandStr),re.command(m===Mo&&4===y.length||m===Po&&9===y.length||m===Lo&&16===y.length,"invalid length for matrix uniform "+p,e.commandStr)}));var g=e.global.def("new Float32Array(["+Array.prototype.slice.call(y)+"])"),x=2;m===Po?x=3:m===Lo&&(x=4),t(f,".uniformMatrix",x,"fv(",v,",false,",g,");")}else{switch(m){case wo:re.commandType(y,"number","uniform "+p,e.commandStr),s="1f";break;case So:re.command(cr(y)&&2===y.length,"uniform "+p,e.commandStr),s="2f";break;case Ao:re.command(cr(y)&&3===y.length,"uniform "+p,e.commandStr),s="3f";break;case Eo:re.command(cr(y)&&4===y.length,"uniform "+p,e.commandStr),s="4f";break;case To:re.commandType(y,"boolean","uniform "+p,e.commandStr),s="1i";break;case _o:re.commandType(y,"number","uniform "+p,e.commandStr),s="1i";break;case jo:case ko:re.command(cr(y)&&2===y.length,"uniform "+p,e.commandStr),s="2i";break;case Do:case Oo:re.command(cr(y)&&3===y.length,"uniform "+p,e.commandStr),s="3i";break;case Ro:case Co:re.command(cr(y)&&4===y.length,"uniform "+p,e.commandStr),s="4i"}t(f,".uniform",s,"(",v,",",cr(y)?Array.prototype.slice.call(y):y,");")}continue}l=h.append(e,t)}else{if(!i(ls))continue;l=t.def(u.uniforms,"[",r.id(p),"]")}m===Fo?(re(!Array.isArray(l),"must specify a scalar prop for textures"),t("if(",l,"&&",l,'._reglType==="framebuffer"){',l,"=",l,".color[0];","}")):m===zo&&(re(!Array.isArray(l),"must specify a scalar prop for cube maps"),t("if(",l,"&&",l,'._reglType==="framebufferCube"){',l,"=",l,".color[0];","}")),re.optional((function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+p+'".  '+n)}function n(e){re(!Array.isArray(l),"must not specify an array type for uniform"),r("typeof "+l+'==="'+e+'"',"invalid type, expected "+e)}function a(t,n){Array.isArray(l)?re(l.length===t,"must have length "+t):r(u.isArrayLike+"("+l+")&&"+l+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function i(t){re(!Array.isArray(l),"must not specify a value type"),r("typeof "+l+'==="function"&&'+l+'._reglType==="texture'+(t===fo?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(m){case _o:n("number");break;case ko:a(2,"number");break;case Oo:a(3,"number");break;case Co:a(4,"number");break;case wo:n("number");break;case So:a(2,"number");break;case Ao:a(3,"number");break;case Eo:a(4,"number");break;case To:n("boolean");break;case jo:a(2,"boolean");break;case Do:a(3,"boolean");break;case Ro:a(4,"boolean");break;case Mo:a(4,"number");break;case Po:a(9,"number");break;case Lo:a(16,"number");break;case Fo:i(fo);break;case zo:i(co)}}));var w=1;switch(m){case Fo:case zo:var S=t.def(l,"._texture");t(f,".uniform1i(",v,",",S,".bind());"),t.exit(S,".unbind();");continue;case _o:case To:s="1i";break;case ko:case jo:s="2i",w=2;break;case Oo:case Do:s="3i",w=3;break;case Co:case Ro:s="4i",w=4;break;case wo:s="1f";break;case So:s="2f",w=2;break;case Ao:s="3f",w=3;break;case Eo:s="4f",w=4;break;case Mo:s="Matrix2fv";break;case Po:s="Matrix3fv";break;case Lo:s="Matrix4fv"}if("M"===s.charAt(0)){t(f,".uniform",s,"(",v,",");var A=Math.pow(m-Mo+2,2),E=e.global.def("new Float32Array(",A,")");Array.isArray(l)?t("false,(",ke(A,(function(e){return E+"["+e+"]="+l[e]})),",",E,")"):t("false,(Array.isArray(",l,")||",l," instanceof Float32Array)?",l,":(",ke(A,(function(e){return E+"["+e+"]="+l+"["+e+"]"})),",",E,")"),t(");")}else if(w>1){for(var _=[],k=[],O=0;O<w;++O)Array.isArray(l)?k.push(l[O]):k.push(t.def(l+"["+O+"]")),o&&_.push(t.def());o&&t("if(!",e.batchId,"||",_.map((function(e,t){return e+"!=="+k[t]})).join("||"),"){",_.map((function(e,t){return e+"="+k[t]+";"})).join("")),t(f,".uniform",s,"(",v,",",k.join(","),");"),o&&t("}")}else{if(re(!Array.isArray(l),"uniform value must not be an array"),o){var C=t.def();t("if(!",e.batchId,"||",C,"!==",l,"){",C,"=",l,";")}t(f,".uniform",s,"(",v,",",l,");"),o&&t("}")}}}function K(e,t,r,n){var a=e.shared,i=a.gl,o=a.draw,s=n.draw;function u(){var u,f=s.elements,c=t;return f?((f.contextDep&&n.contextDynamic||f.propDep)&&(c=r),u=f.append(e,c),s.elementsActive&&c("if("+u+")"+i+".bindBuffer("+uo+","+u+".buffer.buffer);")):(u=c.def(),c(u,"=",o,".",$i,";","if(",u,"){",i,".bindBuffer(",uo,",",u,".buffer.buffer);}","else if(",a.vao,".currentVAO){",u,"=",e.shared.elements+".getElements("+a.vao,".currentVAO.elements);",x?"":"if("+u+")"+i+".bindBuffer("+uo+","+u+".buffer.buffer);","}")),u}function f(){var a,i=s.count,u=t;return i?((i.contextDep&&n.contextDynamic||i.propDep)&&(u=r),a=i.append(e,u),re.optional((function(){i.MISSING&&e.assert(t,"false","missing vertex count"),i.DYNAMIC&&e.assert(u,a+">=0","missing vertex count")}))):(a=u.def(o,".",qi),re.optional((function(){e.assert(u,a+">=0","missing vertex count")}))),a}var c=u();function l(a){var i=s[a];return i?i.contextDep&&n.contextDynamic||i.propDep?i.append(e,r):i.append(e,t):t.def(o,".",a)}var d,p,m=l(Gi),h=l(Yi),v=f();if("number"===typeof v){if(0===v)return}else r("if(",v,"){"),r.exit("}");b&&(d=l(Qi),p=e.instancing);var y=c+".type",g=s.elements&&us(s.elements)&&!s.vaoActive;function w(){function e(){r(p,".drawElementsInstancedANGLE(",[m,v,y,h+"<<(("+y+"-"+ai+")>>1)",d],");")}function t(){r(p,".drawArraysInstancedANGLE(",[m,h,v,d],");")}c&&"null"!==c?g?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}function S(){function e(){r(i+".drawElements("+[m,v,y,h+"<<(("+y+"-"+ai+")>>1)"]+");")}function t(){r(i+".drawArrays("+[m,h,v]+");")}c&&"null"!==c?g?e():(r("if(",c,"){"),e(),r("}else{"),t(),r("}")):t()}b&&("number"!==typeof d||d>=0)?"string"===typeof d?(r("if(",d,">0){"),w(),r("}else if(",d,"<0){"),S(),r("}")):w():S()}function Z(e,t,r,n,a){var i=R(),o=i.proc("body",a);return re.optional((function(){i.commandStr=t.commandStr,i.command=i.link(t.commandStr)})),b&&(i.instancing=o.def(i.shared.extensions,".angle_instanced_arrays")),e(i,o,r,n),i.compile().body}function ee(e,t,r,n){Y(e,t),r.useVAO?r.drawVAO?t(e.shared.vao,".setVAO(",r.drawVAO.append(e,t),");"):t(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(t(e.shared.vao,".setVAO(null);"),J(e,t,r,n.attributes,(function(){return!0}))),X(e,t,r,n.uniforms,(function(){return!0}),!1),K(e,t,t,r)}function te(e,t){var r=e.proc("draw",1);Y(e,r),W(e,r,t.context),$(e,r,t.framebuffer),G(e,r,t),q(e,r,t.state),Q(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)ee(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var a=e.global.def("{}"),i=r.def(n,".id"),o=r.def(a,"[",i,"]");r(e.cond(o).then(o,".call(this,a0);").else(o,"=",a,"[",i,"]=",e.link((function(r){return Z(ee,e,t,r,1)})),"(",n,");",o,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;"),e.shared.vao&&r(e.shared.vao,".setVAO(null);")}function ne(e,t,r,n){function a(){return!0}e.batchId="a1",Y(e,t),J(e,t,r,n.attributes,a),X(e,t,r,n.uniforms,a,!1),K(e,t,t,r)}function ae(e,t,r,n){Y(e,t);var a=r.contextDep,i=t.def(),o="a0",s="a1",u=t.def();e.shared.props=u,e.batchId=i;var f=e.scope(),c=e.scope();function l(e){return e.contextDep&&a||e.propDep}function d(e){return!l(e)}if(t(f.entry,"for(",i,"=0;",i,"<",s,";++",i,"){",u,"=",o,"[",i,"];",c,"}",f.exit),r.needsContext&&W(e,c,r.context),r.needsFramebuffer&&$(e,c,r.framebuffer),q(e,c,r.state,l),r.profile&&l(r.profile)&&Q(e,c,r,!1,!0),n)r.useVAO?r.drawVAO?l(r.drawVAO)?c(e.shared.vao,".setVAO(",r.drawVAO.append(e,c),");"):f(e.shared.vao,".setVAO(",r.drawVAO.append(e,f),");"):f(e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"):(f(e.shared.vao,".setVAO(null);"),J(e,f,r,n.attributes,d),J(e,c,r,n.attributes,l)),X(e,f,r,n.uniforms,d,!1),X(e,c,r,n.uniforms,l,!0),K(e,f,c,r);else{var p=e.global.def("{}"),m=r.shader.progVar.append(e,c),h=c.def(m,".id"),v=c.def(p,"[",h,"]");c(e.shared.gl,".useProgram(",m,".program);","if(!",v,"){",v,"=",p,"[",h,"]=",e.link((function(t){return Z(ne,e,r,t,2)})),"(",m,");}",v,".call(this,a0[",i,"],",i,");")}}function ie(e,t){var r=e.proc("batch",2);e.batchId="0",Y(e,r);var n=!1,a=!0;Object.keys(t.context).forEach((function(e){n=n||t.context[e].propDep})),n||(W(e,r,t.context),a=!1);var i=t.framebuffer,o=!1;function s(e){return e.contextDep&&n||e.propDep}i?(i.propDep?n=o=!0:i.contextDep&&n&&(o=!0),o||$(e,r,i)):$(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),G(e,r,t),q(e,r,t.state,(function(e){return!s(e)})),t.profile&&s(t.profile)||Q(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=a,t.needsFramebuffer=o;var u=t.shader.progVar;if(u.contextDep&&n||u.propDep)ae(e,r,t,null);else{var f=u.append(e,r);if(r(e.shared.gl,".useProgram(",f,".program);"),t.shader.program)ae(e,r,t,t.shader.program);else{r(e.shared.vao,".setVAO(null);");var c=e.global.def("{}"),l=r.def(f,".id"),d=r.def(c,"[",l,"]");r(e.cond(d).then(d,".call(this,a0,a1);").else(d,"=",c,"[",l,"]=",e.link((function(r){return Z(ae,e,t,r,2)})),"(",f,");",d,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;"),e.shared.vao&&r(e.shared.vao,".setVAO(null);")}function oe(e,t){var n=e.proc("scope",3);e.batchId="a2";var a=e.shared,i=a.current;function o(r){var i=t.shader[r];i&&n.set(a.shader,"."+r,i.append(e,n))}W(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),os(Object.keys(t.state)).forEach((function(r){var i=t.state[r].append(e,n);cr(i)?i.forEach((function(t,a){n.set(e.next[r],"["+a+"]",t)})):n.set(a.next,"."+r,i)})),Q(e,n,t,!0,!0),[$i,Yi,qi,Qi,Gi].forEach((function(r){var i=t.draw[r];i&&n.set(a.draw,"."+r,""+i.append(e,n))})),Object.keys(t.uniforms).forEach((function(i){var o=t.uniforms[i].append(e,n);Array.isArray(o)&&(o="["+o.join()+"]"),n.set(a.uniforms,"["+r.id(i)+"]",o)})),Object.keys(t.attributes).forEach((function(r){var a=t.attributes[r].append(e,n),i=e.scopeAttrib(r);Object.keys(new v).forEach((function(e){n.set(i,"."+e,a[e])}))})),t.scopeVAO&&n.set(a.vao,".targetVAO",t.scopeVAO.append(e,n)),o(Ui),o(Wi),Object.keys(t.state).length>0&&(n(i,".dirty=true;"),n.exit(i,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}function se(e){if("object"===typeof e&&!cr(e)){for(var t=Object.keys(e),r=0;r<t.length;++r)if(me.isDynamic(e[t[r]]))return!0;return!1}}function ue(e,t,r){var n=t.static[r];if(n&&se(n)){var a=e.global,i=Object.keys(n),o=!1,s=!1,u=!1,f=e.global.def("{}");i.forEach((function(t){var r=n[t];if(me.isDynamic(r)){"function"===typeof r&&(r=n[t]=me.unbox(r));var i=cs(r,null);o=o||i.thisDep,u=u||i.propDep,s=s||i.contextDep}else{switch(a(f,".",t,"="),typeof r){case"number":a(r);break;case"string":a('"',r,'"');break;case"object":Array.isArray(r)&&a("[",r.join(),"]");break;default:a(e.link(r))}a(";")}})),t.dynamic[r]=new me.DynamicVariable(li,{thisDep:o,contextDep:s,propDep:u,ref:f,append:c}),delete t.static[r]}function c(e,t){i.forEach((function(r){var a=n[r];if(me.isDynamic(a)){var i=e.invoke(t,a);t(f,".",r,"=",i,";")}}))}}function fe(e,r,n,a,i){var o=R();o.stats=o.link(i),Object.keys(r.static).forEach((function(e){ue(o,r,e)})),oo.forEach((function(t){ue(o,e,t)}));var s=U(e,r,n,a,o);return te(o,s),oe(o,s),ie(o,s),t(o.compile(),{destroy:function(){s.shader.program.destroy()}})}return{next:S,current:w,procs:function(){var e=R(),t=e.proc("poll"),r=e.proc("refresh"),i=e.block();t(i),r(i);var o,s=e.shared,u=s.gl,f=s.next,c=s.current;i(c,".dirty=false;"),$(e,t),$(e,r,null,!0),b&&(o=e.link(b)),n.oes_vertex_array_object&&r(e.link(n.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<a.maxAttributes;++l){var d=r.def(s.attributes,"[",l,"]"),p=e.cond(d,".buffer");p.then(u,".enableVertexAttribArray(",l,");",u,".bindBuffer(",so,",",d,".buffer.buffer);",u,".vertexAttribPointer(",l,",",d,".size,",d,".type,",d,".normalized,",d,".stride,",d,".offset);").else(u,".disableVertexAttribArray(",l,");",u,".vertexAttrib4f(",l,",",d,".x,",d,".y,",d,".z,",d,".w);",d,".buffer=null;"),r(p),b&&r(o,".vertexAttribDivisorANGLE(",l,",",d,".divisor);")}return r(e.shared.vao,".currentVAO=null;",e.shared.vao,".setVAO(",e.shared.vao,".targetVAO);"),Object.keys(E).forEach((function(n){var a=E[n],o=i.def(f,".",n),s=e.block();s("if(",o,"){",u,".enable(",a,")}else{",u,".disable(",a,")}",c,".",n,"=",o,";"),r(s),t("if(",o,"!==",c,".",n,"){",s,"}")})),Object.keys(_).forEach((function(n){var a,o,s=_[n],l=w[n],d=e.block();if(d(u,".",s,"("),cr(l)){var p=l.length;a=e.global.def(f,".",n),o=e.global.def(c,".",n),d(ke(p,(function(e){return a+"["+e+"]"})),");",ke(p,(function(e){return o+"["+e+"]="+a+"["+e+"];"})).join("")),t("if(",ke(p,(function(e){return a+"["+e+"]!=="+o+"["+e+"]"})).join("||"),"){",d,"}")}else a=i.def(f,".",n),o=i.def(c,".",n),d(a,");",c,".",n,"=",a,";"),t("if(",a,"!==",o,"){",d,"}");r(d)})),e.compile()}(),compile:fe}}function ps(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var ms=34918,hs=34919,vs=35007,ys=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(){return r.pop()||t.ext_disjoint_timer_query.createQueryEXT()}function a(e){r.push(e)}var i=[];function o(e){var r=n();t.ext_disjoint_timer_query.beginQueryEXT(vs,r),i.push(r),p(i.length-1,i.length,e)}function s(){t.ext_disjoint_timer_query.endQueryEXT(vs)}function u(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var f=[];function c(){return f.pop()||new u}function l(e){f.push(e)}var d=[];function p(e,t,r){var n=c();n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,d.push(n)}var m=[],h=[];function v(){var e,r,n=i.length;if(0!==n){h.length=Math.max(h.length,n+1),m.length=Math.max(m.length,n+1),m[0]=0,h[0]=0;var o=0;for(e=0,r=0;r<i.length;++r){var s=i[r];t.ext_disjoint_timer_query.getQueryObjectEXT(s,hs)?(o+=t.ext_disjoint_timer_query.getQueryObjectEXT(s,ms),a(s)):i[e++]=s,m[r+1]=o,h[r+1]=e}for(i.length=e,e=0,r=0;r<d.length;++r){var u=d[r],f=u.startQueryIndex,c=u.endQueryIndex;u.sum+=m[c]-m[f];var p=h[f],v=h[c];v===p?(u.stats.gpuTime+=u.sum/1e6,l(u)):(u.startQueryIndex=p,u.endQueryIndex=v,d[e++]=u)}d.length=e}}return{beginQuery:o,endQuery:s,pushScopeStats:p,update:v,getNumPendingQueries:function(){return i.length},clear:function(){r.push.apply(r,i);for(var e=0;e<r.length;e++)t.ext_disjoint_timer_query.deleteQueryEXT(r[e]);i.length=0,r.length=0},restore:function(){i.length=0,r.length=0}}},bs=16384,gs=256,xs=1024,ws=34962,Ss="webglcontextlost",As="webglcontextrestored",Es=1,_s=2,ks=3;function Os(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function Cs(e){var r=Ee(e);if(!r)return null;var n=r.gl,a=n.getContextAttributes(),i=n.isContextLost(),o=_e(n,r);if(!o)return null;var s=ye(),u=ps(),f=o.extensions,c=ys(n,f),l=ve(),d=n.drawingBufferWidth,p=n.drawingBufferHeight,m={tick:0,time:0,viewportWidth:d,viewportHeight:p,framebufferWidth:d,framebufferHeight:p,drawingBufferWidth:d,drawingBufferHeight:p,pixelRatio:r.pixelRatio},h={},v={elements:null,primitive:4,count:-1,offset:0,instances:-1},y=St(n,f),b=$t(n,u,r,w),g=ir(n,f,b,u),x=Ua(n,f,y,u,b,g,v);function w(e){return x.destroyBuffer(e)}var S=Ya(n,s,u,r),A=Qn(n,f,y,(function(){k.procs.poll()}),m,u,r),E=fa(n,f,y,u,r),_=za(n,f,y,A,E,u),k=ds(n,s,f,y,b,g,A,_,h,x,S,v,m,c,r),O=Za(n,_,k.procs.poll,m,a,f,y),C=k.next,T=n.canvas,j=[],D=[],R=[],M=[r.onDestroy],P=null;function L(){if(0===j.length)return c&&c.update(),void(P=null);P=he.next(L),q();for(var e=j.length-1;e>=0;--e){var t=j[e];t&&t(m,null,0)}n.flush(),c&&c.update()}function F(){!P&&j.length>0&&(P=he.next(L))}function z(){P&&(he.cancel(L),P=null)}function I(e){e.preventDefault(),i=!0,z(),D.forEach((function(e){e()}))}function B(e){n.getError(),i=!1,o.restore(),S.restore(),b.restore(),A.restore(),E.restore(),_.restore(),x.restore(),c&&c.restore(),k.procs.refresh(),F(),R.forEach((function(e){e()}))}function N(){j.length=0,z(),T&&(T.removeEventListener(Ss,I),T.removeEventListener(As,B)),S.clear(),_.clear(),E.clear(),x.clear(),A.clear(),g.clear(),b.clear(),c&&c.clear(),M.forEach((function(e){e()}))}function V(e){function r(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach((function(n){r[e+"."+n]=t[n]}))}}return delete r.uniforms,delete r.attributes,delete r.context,delete r.vao,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),"vao"in e&&(r.vao=e.vao),r}function n(e,t){var r={},n={};return Object.keys(e).forEach((function(a){var i=e[a];if(me.isDynamic(i))n[a]=me.unbox(i,a);else{if(t&&Array.isArray(i))for(var o=0;o<i.length;++o)if(me.isDynamic(i[o]))return void(n[a]=me.unbox(i,a));r[a]=i}})),{dynamic:n,static:r}}re(!!e,"invalid args to regl({...})"),re.type(e,"object","invalid args to regl({...})");var a=n(e.context||{},!0),o=n(e.uniforms||{},!0),s=n(e.attributes||{},!1),u=n(r(e),!1),f={gpuTime:0,cpuTime:0,count:0},c=k.compile(u,s,o,a,f),l=c.draw,d=c.batch,p=c.scope,m=[];function h(e){for(;m.length<e;)m.push(null);return m}function v(e,t){var r;if(i&&re.raise("context lost"),"function"===typeof e)return p.call(this,null,e,0);if("function"===typeof t)if("number"===typeof e)for(r=0;r<e;++r)p.call(this,null,t,r);else{if(!Array.isArray(e))return p.call(this,e,t,0);for(r=0;r<e.length;++r)p.call(this,e[r],t,r)}else if("number"===typeof e){if(e>0)return d.call(this,h(0|e),0|e)}else{if(!Array.isArray(e))return l.call(this,e);if(e.length)return d.call(this,e,e.length)}}return t(v,{stats:f,destroy:function(){c.destroy()}})}T&&(T.addEventListener(Ss,I,!1),T.addEventListener(As,B,!1));var H=_.setFBO=V({framebuffer:me.define.call(null,Es,"framebuffer")});function U(e,t){var r=0;k.procs.poll();var a=t.color;a&&(n.clearColor(+a[0]||0,+a[1]||0,+a[2]||0,+a[3]||0),r|=bs),"depth"in t&&(n.clearDepth(+t.depth),r|=gs),"stencil"in t&&(n.clearStencil(0|t.stencil),r|=xs),re(!!r,"called regl.clear with no buffer specified"),n.clear(r)}function W(e){if(re("object"===typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var r=0;r<6;++r)H(t({framebuffer:e.framebuffer.faces[r]},e),U);else H(e,U);else U(null,e)}function $(e){function t(){var t=Os(j,e);function r(){var e=Os(j,r);j[e]=j[j.length-1],j.length-=1,j.length<=0&&z()}re(t>=0,"cannot cancel a frame twice"),j[t]=r}return re.type(e,"function","regl.frame() callback must be a function"),j.push(e),F(),{cancel:t}}function G(){var e=C.viewport,t=C.scissor_box;e[0]=e[1]=t[0]=t[1]=0,m.viewportWidth=m.framebufferWidth=m.drawingBufferWidth=e[2]=t[2]=n.drawingBufferWidth,m.viewportHeight=m.framebufferHeight=m.drawingBufferHeight=e[3]=t[3]=n.drawingBufferHeight}function q(){m.tick+=1,m.time=Q(),G(),k.procs.poll()}function Y(){A.refresh(),G(),k.procs.refresh(),c&&c.update()}function Q(){return(ve()-l)/1e3}function J(e,t){var r;switch(re.type(t,"function","listener callback must be a function"),e){case"frame":return $(t);case"lost":r=D;break;case"restore":r=R;break;case"destroy":r=M;break;default:re.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var e=0;e<r.length;++e)if(r[e]===t)return r[e]=r[r.length-1],void r.pop()}}}Y();var X=t(V,{clear:W,prop:me.define.bind(null,Es),context:me.define.bind(null,_s),this:me.define.bind(null,ks),draw:V({}),buffer:function(e){return b.create(e,ws,!1,!1)},elements:function(e){return g.create(e,!1)},texture:A.create2D,cube:A.createCube,renderbuffer:E.create,framebuffer:_.create,framebufferCube:_.createCube,vao:x.createVAO,attributes:a,frame:$,on:J,limits:y,hasExtension:function(e){return y.extensions.indexOf(e.toLowerCase())>=0},read:O,destroy:N,_gl:n,_refresh:Y,poll:function(){q(),c&&c.update()},now:Q,stats:u});return r.onDone(null,X),X}return Cs}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".f9e6f45d.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="elementsim:";r.l=(n,a,i,o)=>{if(e[n])e[n].push(a);else{var s,u;if(void 0!==i)for(var f=document.getElementsByTagName("script"),c=0;c<f.length;c++){var l=f[c];if(l.getAttribute("src")==n||l.getAttribute("data-webpack")==t+i){s=l;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var d=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var a=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),a&&a.forEach((e=>e(r))),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/elementsim/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,i,o=n[0],s=n[1],u=n[2],f=0;if(o.some((t=>0!==e[t]))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(u)u(r)}for(t&&t(n);f<o.length;f++)i=o[f],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkelementsim=self.webpackChunkelementsim||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";function e(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var r=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,r||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==t(r)?r:r+""}function a(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=r(43);r(358);const u=["page"],f=["page","matches"],c=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var p="popstate";function m(){return w((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return b("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:g(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function y(e,t){return{usr:e.state,key:e.key,idx:t}}function b(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return o(o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function g(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function x(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function w(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,u="POP",f=null,c=l();function l(){return(s.state||{idx:null}).idx}function d(){u="POP";let e=l(),t=null==e?null:e-c;c=e,f&&f({action:u,location:v.location,delta:t})}function m(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:g(e);return r=r.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: ".concat(r)),new URL(r,t)}null==c&&(c=0,s.replaceState(o(o({},s.state),{},{idx:c}),""));let v={get action(){return u},get location(){return e(a,s)},listen(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(p,d),f=e,()=>{a.removeEventListener(p,d),f=null}},createHref:e=>t(a,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){u="PUSH";let n=b(v.location,e,t);r&&r(n,e),c=l()+1;let o=y(n,c),d=v.createHref(n);try{s.pushState(o,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(d)}i&&f&&f({action:u,location:v.location,delta:1})},replace:function(e,t){u="REPLACE";let n=b(v.location,e,t);r&&r(n,e),c=l();let a=y(n,c),o=v.createHref(n);s.replaceState(a,"",o),i&&f&&f({action:u,location:v.location,delta:0})},go:e=>s.go(e)};return v}function S(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,r,n){let a=z(("string"===typeof t?x(t):t).pathname||"/",r);if(null==a)return null;let i=E(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=F(a);o=P(i[s],e,n)}return o}function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=(e,a,i)=>{let o={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(h(o.relativePath.startsWith(n),'Absolute route path "'.concat(o.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),o.relativePath=o.relativePath.slice(n.length));let s=H([n,o.relativePath]),u=r.concat(o);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(s,'".')),E(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:M(s,e.index),routesMeta:u})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of _(e.path))a(e,t,n);else a(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(0===n.length)return a?[i,""]:[i];let o=_(n.join("/")),s=[];return s.push(...o.map((e=>""===e?i:[i,e].join("/")))),a&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}var k=/^:[\w-]+$/,O=3,C=2,T=1,j=10,D=-2,R=e=>"*"===e;function M(e,t){let r=e.split("/"),n=r.length;return r.some(R)&&(n+=D),t&&(n+=C),r.filter((e=>!R(e))).reduce(((e,t)=>e+(k.test(t)?O:""===t?T:j)),n)}function P(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],u=s===n.length-1,f="/"===i?t:t.slice(i.length)||"/",c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:u},f),l=e.route;if(!c&&u&&r&&!n[n.length-1].route.index&&(c=L({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},f)),!c)return null;Object.assign(a,c.params),o.push({params:a,pathname:H([i,c.pathname]),pathnameBase:U(H([i,c.pathnameBase])),route:l}),"/"!==c.pathnameBase&&(i=H([i,c.pathnameBase]))}return o}function L(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let i=new RegExp(a,t?void 0:"i");return[i,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=s[r]||"";o=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const u=s[r];return e[n]=a&&!u?void 0:(u||"").replace(/%2F/g,"/"),e}),{}),pathname:i,pathnameBase:o,pattern:e}}function F(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function I(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function B(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function N(e){let t=B(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function V(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=x(e):(n=o({},e),h(!n.pathname||!n.pathname.includes("?"),I("?","pathname","search",n)),h(!n.pathname||!n.pathname.includes("#"),I("#","pathname","hash",n)),h(!n.search||!n.search.includes("#"),I("#","search","hash",n)));let i,s=""===e||""===n.pathname,u=s?"/":n.pathname;if(null==u)i=r;else{let e=t.length-1;if(!a&&u.startsWith("..")){let t=u.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}i=e>=0?t[e]:"/"}let f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:a=""}="string"===typeof e?x(e):e,i=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:i,search:W(n),hash:$(a)}}(n,i),c=u&&"/"!==u&&u.endsWith("/"),l=(s||"."===u)&&r.endsWith("/");return f.pathname.endsWith("/")||!c&&!l||(f.pathname+="/"),f}var H=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function G(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var q=["POST","PUT","PATCH","DELETE"],Y=(new Set(q),["GET",...q]);new Set(Y),Symbol("ResetLoaderData");var Q=s.createContext(null);Q.displayName="DataRouter";var J=s.createContext(null);J.displayName="DataRouterState";var X=s.createContext({isTransitioning:!1});X.displayName="ViewTransition";var K=s.createContext(new Map);K.displayName="Fetchers";var Z=s.createContext(null);Z.displayName="Await";var ee=s.createContext(null);ee.displayName="Navigation";var te=s.createContext(null);te.displayName="Location";var re=s.createContext({outlet:null,matches:[],isDataRoute:!1});re.displayName="Route";var ne=s.createContext(null);ne.displayName="RouteError";function ae(){return null!=s.useContext(te)}function ie(){return h(ae(),"useLocation() may be used only in the context of a <Router> component."),s.useContext(te).location}var oe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function se(e){s.useContext(ee).static||s.useLayoutEffect(e)}function ue(){let{isDataRoute:e}=s.useContext(re);return e?function(){let{router:e}=ye("useNavigate"),t=ge("useNavigate"),r=s.useRef(!1);se((()=>{r.current=!0}));let n=s.useCallback((async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(r.current,oe),r.current&&("number"===typeof n?e.navigate(n):await e.navigate(n,o({fromRouteId:t},a)))}),[e,t]);return n}():function(){h(ae(),"useNavigate() may be used only in the context of a <Router> component.");let e=s.useContext(Q),{basename:t,navigator:r}=s.useContext(ee),{matches:n}=s.useContext(re),{pathname:a}=ie(),i=JSON.stringify(N(n)),o=s.useRef(!1);se((()=>{o.current=!0}));let u=s.useCallback((function(n){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(o.current,oe),!o.current)return;if("number"===typeof n)return void r.go(n);let u=V(n,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==t&&(u.pathname="/"===u.pathname?t:H([t,u.pathname])),(s.replace?r.replace:r.push)(u,s.state,s)}),[t,r,i,a,e]);return u}()}s.createContext(null);function fe(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=s.useContext(re),{pathname:n}=ie(),a=JSON.stringify(N(r));return s.useMemo((()=>V(e,JSON.parse(a),n,"path"===t)),[e,a,n,t])}function ce(e,t,r,n){h(ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=s.useContext(ee),{matches:i}=s.useContext(re),u=i[i.length-1],f=u?u.params:{},c=u?u.pathname:"/",l=u?u.pathnameBase:"/",d=u&&u.route;{let e=d&&d.path||"";Se(c,!d||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=ie();if(t){var y;let e="string"===typeof t?x(t):t;h("/"===l||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(l)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(l,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let b=p.pathname||"/",g=b;if("/"!==l){let e=l.replace(/^\//,"").split("/");g="/"+b.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=S(e,{pathname:g});v(d||null!=w,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),v(null==w||void 0!==w[w.length-1].route.element||void 0!==w[w.length-1].route.Component||void 0!==w[w.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let A=he(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},f,e.params),pathname:H([l,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:H([l,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r,n);return t&&A?s.createElement(te.Provider,{value:{location:o({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},A):A}function le(){let e=xe(),t=G(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=s.createElement(s.Fragment,null,s.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),s.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",s.createElement("code",{style:i},"ErrorBoundary")," or"," ",s.createElement("code",{style:i},"errorElement")," prop on your route.")),s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),r?s.createElement("pre",{style:a},r):null,o)}var de=s.createElement(le,null),pe=class extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement(re.Provider,{value:this.props.routeContext},s.createElement(ne.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function me(e){let{routeContext:t,match:r,children:n}=e,a=s.useContext(Q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),s.createElement(re.Provider,{value:t},n)}function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==t.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let n=e,a=null===r||void 0===r?void 0:r.errors;if(null!=a){let e=n.findIndex((e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id])));h(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),n=n.slice(0,Math.min(n.length,e+1))}let i=!1,o=-1;if(r)for(let s=0;s<n.length;s++){let e=n[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=s),e.route.id){let{loaderData:t,errors:a}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){i=!0,n=o>=0?n.slice(0,o+1):[n[0]];break}}}return n.reduceRight(((e,u,f)=>{let c,l=!1,d=null,p=null;r&&(c=a&&u.route.id?a[u.route.id]:void 0,d=u.route.errorElement||de,i&&(o<0&&0===f?(Se("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),l=!0,p=null):o===f&&(l=!0,p=u.route.hydrateFallbackElement||null)));let m=t.concat(n.slice(0,f+1)),h=()=>{let t;return t=c?d:l?p:u.route.Component?s.createElement(u.route.Component,null):u.route.element?u.route.element:e,s.createElement(me,{match:u,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(u.route.ErrorBoundary||u.route.errorElement||0===f)?s.createElement(pe,{location:r.location,revalidation:r.revalidation,component:d,error:c,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):h()}),null)}function ve(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ye(e){let t=s.useContext(Q);return h(t,ve(e)),t}function be(e){let t=s.useContext(J);return h(t,ve(e)),t}function ge(e){let t=function(e){let t=s.useContext(re);return h(t,ve(e)),t}(e),r=t.matches[t.matches.length-1];return h(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function xe(){var e;let t=s.useContext(ne),r=be("useRouteError"),n=ge("useRouteError");return void 0!==t?t:null===(e=r.errors)||void 0===e?void 0:e[n]}var we={};function Se(e,t,r){t||we[e]||(we[e]=!0,v(!1,r))}s.memo((function(e){let{routes:t,future:r,state:n}=e;return ce(t,void 0,n,r)}));function Ae(e){let{basename:t="/",children:r=null,location:n,navigationType:a="POP",navigator:i,static:o=!1}=e;h(!ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=s.useMemo((()=>({basename:u,navigator:i,static:o,future:{}})),[u,i,o]);"string"===typeof n&&(n=x(n));let{pathname:c="/",search:l="",hash:d="",state:p=null,key:m="default"}=n,y=s.useMemo((()=>{let e=z(c,u);return null==e?null:{location:{pathname:e,search:l,hash:d,state:p,key:m},navigationType:a}}),[u,c,l,d,p,m,a]);return v(null!=y,'<Router basename="'.concat(u,'"> is not able to match the URL "').concat(c).concat(l).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==y?null:s.createElement(ee.Provider,{value:f},s.createElement(te.Provider,{children:r,value:y}))}s.Component;var Ee="get",_e="application/x-www-form-urlencoded";function ke(e){return null!=e&&"string"===typeof e.tagName}var Oe=null;var Ce=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Te(e){return null==e||Ce.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(_e,'"')),null)}function je(e,t){let r,n,a,i,o;if(ke(s=e)&&"form"===s.tagName.toLowerCase()){let o=e.getAttribute("action");n=o?z(o,t):null,r=e.getAttribute("method")||Ee,a=Te(e.getAttribute("enctype"))||_e,i=new FormData(e)}else if(function(e){return ke(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return ke(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||o.getAttribute("action");if(n=s?z(s,t):null,r=e.getAttribute("formmethod")||o.getAttribute("method")||Ee,a=Te(e.getAttribute("formenctype"))||Te(o.getAttribute("enctype"))||_e,i=new FormData(o,e),!function(){if(null===Oe)try{new FormData(document.createElement("form"),0),Oe=!1}catch(e){Oe=!0}return Oe}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,n)}}else{if(ke(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ee,n=null,a=_e,o=e}var s;return i&&"text/plain"===a&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}function De(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Re(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Me(e){return null!=e&&"string"===typeof e.page}function Pe(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Le(e,t,r,n,a,i){let o=(e,t)=>!r[t]||e.route.id!==r[t].route.id,s=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>o(e,t)||s(e,t))):"data"===i?t.filter(((t,i)=>{let u=n.routes[t.route.id];if(!u||!u.hasLoader)return!1;if(o(t,i)||s(t,i))return!0;if(t.route.shouldRevalidate){var f;let n=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(f=r[0])||void 0===f?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function Fe(e){return[...new Set(e)]}function ze(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,a)=>{if(t&&!Me(a)&&"script"===a.as&&a.href&&n.has(a.href))return e;let i=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(a));return r.has(i)||(r.add(i),e.push({key:i,link:a})),e}),[])}function Ie(e){return{__html:e}}Symbol("SingleFetchRedirect");function Be(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}s.Component;function Ne(e){let{error:t,isOutsideRemixApp:r}=e;console.error(t);let n,a=s.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(G(t))return s.createElement(Ve,{title:"Unhandled Thrown Response!"},s.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return s.createElement(Ve,{title:"Application Error!",isOutsideRemixApp:r},s.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),s.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},n.stack),a)}function Ve(e){var t;let{title:r,renderScripts:n,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=Ge();return null!==o.root&&void 0!==t&&t.Layout&&!a?i:s.createElement("html",{lang:"en"},s.createElement("head",null,s.createElement("meta",{charSet:"utf-8"}),s.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),s.createElement("title",null,r)),s.createElement("body",null,s.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,n?s.createElement(Ze,null):null)))}function He(e){return!e}function Ue(){let e=s.useContext(Q);return De(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function We(){let e=s.useContext(J);return De(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var $e=s.createContext(void 0);function Ge(){let e=s.useContext($e);return De(e,"You must render this element inside a <HydratedRouter> element"),e}function qe(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Ye(e,t,r){if(r&&!Ke)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function Qe(t){let{page:r}=t,n=e(t,u),{router:a}=Ue(),i=s.useMemo((()=>S(a.routes,r,a.basename)),[a.routes,r,a.basename]);return i?s.createElement(Xe,o({page:r,matches:i},n)):null}function Je(e){let{manifest:t,routeModules:r}=Ge(),[n,a]=s.useState([]);return s.useEffect((()=>{let n=!1;return async function(e,t,r){return ze((await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await Re(n,r);return e.links?e.links():[]}return[]})))).flat(1).filter(Pe).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?o(o({},e),{},{rel:"prefetch",as:"style"}):o(o({},e),{},{rel:"prefetch"}))))}(e,t,r).then((e=>{n||a(e)})),()=>{n=!0}}),[e,t,r]),n}function Xe(t){let{page:r,matches:n}=t,a=e(t,f),i=ie(),{manifest:u,routeModules:c}=Ge(),{loaderData:l,matches:d}=We(),p=s.useMemo((()=>Le(r,n,d,u,i,"data")),[r,n,d,u,i]),m=s.useMemo((()=>Le(r,n,d,u,i,"assets")),[r,n,d,u,i]),h=s.useMemo((()=>{if(r===i.pathname+i.search+i.hash)return[];let e=new Set,t=!1;if(n.forEach((r=>{var n;let a=u.routes[r.route.id];a&&a.hasLoader&&(!p.some((e=>e.route.id===r.route.id))&&r.route.id in l&&null!==(n=c[r.route.id])&&void 0!==n&&n.shouldRevalidate||a.hasClientLoader?t=!0:e.add(r.route.id))})),0===e.size)return[];let a=Be(r);return t&&e.size>0&&a.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[a.pathname+a.search]}),[l,i,u,p,n,r,c]),v=s.useMemo((()=>function(e,t){return Fe(e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let n=[r.module];return r.imports&&(n=n.concat(r.imports)),n})).flat(1))}(m,u)),[m,u]),y=Je(m);return s.createElement(s.Fragment,null,h.map((e=>s.createElement("link",o({key:e,rel:"prefetch",as:"fetch",href:e},a)))),v.map((e=>s.createElement("link",o({key:e,rel:"modulepreload",href:e},a)))),y.map((e=>{let{key:t,link:r}=e;return s.createElement("link",o({key:t},r))})))}$e.displayName="FrameworkContext";var Ke=!1;function Ze(e){let{manifest:t,serverHandoffString:r,isSpaMode:n,renderMeta:a}=Ge(),{router:i,static:u,staticContext:f}=Ue(),{matches:c}=We(),l=He(n);a&&(a.didRenderScripts=!0);let d=Ye(c,null,n);s.useEffect((()=>{0}),[]);let p=s.useMemo((()=>{var n;let a=f?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=u?"".concat(null!==t.hmr&&void 0!==n&&n.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(l?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(d.map(((e,r)=>"import * as route".concat(r," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(l?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let r=new Set(t.state.matches.map((e=>e.route.id))),n=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(n.pop();n.length>0;)a.push("/".concat(n.join("/"))),n.pop();a.forEach((e=>{let n=S(t.routes,e,t.basename);n&&n.forEach((e=>r.add(e.route.id)))}));let i=[...r].reduce(((t,r)=>Object.assign(t,{[r]:e.routes[r]})),{});return o(o({},e),{},{routes:i})}(t,i),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(d.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return s.createElement(s.Fragment,null,s.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(a),type:void 0})),s.createElement("script",o(o({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ie(c),type:"module",async:!0})))}),[]),m=d.map((e=>{let r=t.routes[e.route.id];return r?(r.imports||[]).concat([r.module]):[]})).flat(1),h=Ke?[]:t.entry.imports.concat(m);return Ke?null:s.createElement(s.Fragment,null,l?null:s.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),s.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),[...new Set(v)].map((t=>s.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),p);var v}function et(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var tt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{tt&&(window.__reactRouterVersion="7.1.1")}catch(Lt){}function rt(e){let{basename:t,children:r,window:n}=e,a=s.useRef();null==a.current&&(a.current=m({window:n,v5Compat:!0}));let i=a.current,[o,u]=s.useState({action:i.action,location:i.location}),f=s.useCallback((e=>{s.startTransition((()=>u(e)))}),[u]);return s.useLayoutEffect((()=>i.listen(f)),[i,f]),s.createElement(Ae,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i})}var nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=s.forwardRef((function(t,r){let n,{onClick:a,discover:i="render",prefetch:u="none",relative:f,reloadDocument:l,replace:d,state:p,target:m,to:y,preventScrollReset:b,viewTransition:x}=t,w=e(t,c),{basename:S}=s.useContext(ee),A="string"===typeof y&&nt.test(y),E=!1;if("string"===typeof y&&A&&(n=y,tt))try{let e=new URL(window.location.href),t=y.startsWith("//")?new URL(e.protocol+y):new URL(y),r=z(t.pathname,S);t.origin===e.origin&&null!=r?y=r+t.search+t.hash:E=!0}catch(Lt){v(!1,'<Link to="'.concat(y,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let _=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};h(ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=s.useContext(ee),{hash:a,pathname:i,search:o}=fe(e,{relative:t}),u=i;return"/"!==r&&(u="/"===i?r:H([r,i])),n.createHref({pathname:u,search:o,hash:a})}(y,{relative:f}),[k,O,C]=function(e,t){let r=s.useContext($e),[n,a]=s.useState(!1),[i,o]=s.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:c,onMouseLeave:l,onTouchStart:d}=t,p=s.useRef(null);s.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),s.useEffect((()=>{if(n){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[n]);let m=()=>{a(!0)},h=()=>{a(!1),o(!1)};return r?"intent"!==e?[i,p,{}]:[i,p,{onFocus:qe(u,m),onBlur:qe(f,h),onMouseEnter:qe(c,m),onMouseLeave:qe(l,h),onTouchStart:qe(d,m)}]:[!1,p,{}]}(u,w),T=function(e){let{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=ue(),f=ie(),c=fe(e,{relative:i});return s.useCallback((s=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(s,t)){s.preventDefault();let t=void 0!==r?r:g(f)===g(c);u(e,{replace:t,state:n,preventScrollReset:a,relative:i,viewTransition:o})}}),[f,u,c,r,n,t,e,a,i,o])}(y,{replace:d,state:p,target:m,preventScrollReset:b,relative:f,viewTransition:x});let j=s.createElement("a",o(o(o({},w),C),{},{href:n||_,onClick:E||l?a:function(e){a&&a(e),e.defaultPrevented||T(e)},ref:et(r,O),target:m,"data-discover":A||"render"!==i?void 0:"true"}));return k&&!A?s.createElement(s.Fragment,null,j,s.createElement(Qe,{page:_})):j}));at.displayName="Link",s.forwardRef((function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:u=!1,style:f,to:c,viewTransition:d,children:p}=t,m=e(t,l),v=fe(c,{relative:m.relative}),y=ie(),b=s.useContext(J),{navigator:g,basename:x}=s.useContext(ee),w=null!=b&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.useContext(X);h(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=st("useViewTransitionState"),a=fe(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=z(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=z(r.nextLocation.pathname,n)||r.nextLocation.pathname;return null!=L(a.pathname,o)||null!=L(a.pathname,i)}(v)&&!0===d,S=g.encodeLocation?g.encodeLocation(v).pathname:v.pathname,A=y.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(A=A.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&x&&(E=z(E,x)||E);const _="/"!==S&&S.endsWith("/")?S.length-1:S.length;let k,O=A===S||!u&&A.startsWith(S)&&"/"===A.charAt(_),C=null!=E&&(E===S||!u&&E.startsWith(S)&&"/"===E.charAt(S.length)),T={isActive:O,isPending:C,isTransitioning:w},j=O?n:void 0;k="function"===typeof i?i(T):[i,O?"active":null,C?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let D="function"===typeof f?f(T):f;return s.createElement(at,o(o({},m),{},{"aria-current":j,className:k,ref:r,style:D,to:c,viewTransition:d}),"function"===typeof p?p(T):p)})).displayName="NavLink";var it=s.forwardRef(((t,r)=>{let{discover:n="render",fetcherKey:a,navigate:i,reloadDocument:u,replace:f,state:c,method:l=Ee,action:p,onSubmit:m,relative:v,preventScrollReset:y,viewTransition:b}=t,x=e(t,d),w=ct(),S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=s.useContext(ee),n=s.useContext(re);h(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i=o({},fe(e||".",{relative:t})),u=ie();if(null==e){i.search=u.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();i.search=r?"?".concat(r):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:H([r,i.pathname]));return g(i)}(p,{relative:v}),A="get"===l.toLowerCase()?"get":"post",E="string"===typeof p&&nt.test(p);return s.createElement("form",o(o({ref:r,method:A,action:S,onSubmit:u?m:e=>{if(m&&m(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||l;w(t||e.currentTarget,{fetcherKey:a,method:r,navigate:i,replace:f,state:c,relative:v,preventScrollReset:y,viewTransition:b})}},x),{},{"data-discover":E||"render"!==n?void 0:"true"}))}));function ot(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function st(e){let t=s.useContext(Q);return h(t,ot(e)),t}it.displayName="Form";var ut=0,ft=()=>"__".concat(String(++ut),"__");function ct(){let{router:e}=st("useSubmit"),{basename:t}=s.useContext(ee),r=ge("useRouteId");return s.useCallback((async function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:o,encType:s,formData:u,body:f}=je(n,t);if(!1===a.navigate){let t=a.fetcherKey||ft();await e.fetch(t,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||s,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:u,body:f,formMethod:a.method||o,formEncType:a.encType||s,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})}),[e,t,r])}new TextEncoder;var lt=r(950);const dt={SAND:[[240,215,150,255],[230,200,120,255],[220,190,100,255],[210,180,80,255],[200,170,60,255]],DIRT:[[96,47,18,255],[135,70,32,255],[110,54,25,255],[145,85,40,255],[90,44,20,255]],WOOD:[[205,92,52,255],[210,105,60,255],[190,85,40,255],[215,100,50,255],[180,75,30,255]],STONE:[[150,150,150,255],[120,120,120,255],[180,180,180,255],[140,140,140,255],[160,160,160,255]],WATER:[[28,85,234,255]],HELIUM:[[174,174,174,255]],EMPTY:[[0,0,0,0]],RAINBOWSAND:[[255,0,0,255],[255,127,0,255],[255,255,0,255],[0,255,0,255],[0,0,255,255],[75,0,130,255],[148,0,211,255]],rainbowIndex:0,getColor(e){const t=this[e];if(!t)throw new Error("No colors defined for type: ".concat(e));if("RAINBOWSAND"===e){const e=t[this.rainbowIndex];return this.rainbowIndex=(this.rainbowIndex+1)%t.length,e}return t[Math.floor(Math.random()*t.length)]}};const pt=class{constructor(){this.type=this.constructor.name.toUpperCase(),this.color=dt.getColor(this.type),this.static=!1}getColor(){return this.color}setStatic(){this.static=!0}setDynamic(){this.static=!1}isStatic(){return this.static}behavior(e,t,r,n){}};const mt=class extends pt{};const ht=class extends pt{};const vt=class extends pt{constructor(){super(),this.sidewaysDirection=Math.random()<.5?-1:1,this.dispersalRange=5}isMovable(e){return e instanceof ht}behavior(e,t,r,n){this.attemptMovement(e,t,r,n)||this.reverseDirection()}attemptMovement(e,t,r,n){return[{dx:0,dy:1,chance:.1},{dx:-1,dy:1,chance:.1},{dx:1,dy:1,chance:.1},...this.generateSidewaysOptions(e)].some((a=>{let{dx:i,dy:o,chance:s}=a;return Math.random()<s&&this.tryMove(e,t,e+i,t+o,r,n)}))}generateSidewaysOptions(e){const t=[];for(let r=1;r<=this.dispersalRange;r++)t.push({dx:this.sidewaysDirection*r,dy:0,chance:.1});return t}tryMove(e,t,r,n,a,i){return!!(r>=0&&r<a.width&&n>=0&&n<a.height&&this.isMovable(a.get(r,n)))&&(i(e,t,r,n),!0)}reverseDirection(){this.sidewaysDirection*=-1}};const yt=class extends pt{constructor(){super(),this.vel={x:Math.random()<.5?-1:1,y:-1},this.gravity=.2,this.maxFallSpeed=10,this.frictionFactor=.9,this.gravityAccumulator=0,this.dispersionRate=10}isSwappable(e){return e instanceof ht||e instanceof vt}applyGravity(){if(this.gravityAccumulator+=this.gravity,this.gravityAccumulator>=1){const e=Math.floor(this.gravityAccumulator);this.vel.y=Math.max(this.vel.y-e,-this.maxFallSpeed),this.gravityAccumulator-=e}}capVelocity(){this.vel.x=Math.max(-10,Math.min(10,this.vel.x)),this.vel.y=Math.max(-this.maxFallSpeed,Math.min(0,this.vel.y))}behavior(e,t,r,n){this.applyGravity(),this.capVelocity(),this.tryMove(e,t,e,t+Math.floor(this.vel.y),r,n)||this.tryRandomDiagonalMovement(e,t,r,n)||(this.disperseHorizontally(e,t,r,n),this.vel.x*=this.frictionFactor,this.vel.y=-1)}tryRandomDiagonalMovement(e,t,r,n){const a=[{dx:-1,dy:Math.floor(this.vel.y)},{dx:1,dy:Math.floor(this.vel.y)}];for(let i=a.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[a[i],a[e]]=[a[e],a[i]]}for(const{dx:i,dy:o}of a)if(this.tryMove(e,t,e+i,t+o,r,n))return!0;return!1}disperseHorizontally(e,t,r,n){const a=Math.sign(this.vel.x)||1;for(let i=1;i<=this.dispersionRate;i++){const o=e+i*a;if(o>=0&&o<r.width&&this.isSwappable(r.get(o,t))&&(t-1<0||!this.isSwappable(r.get(o,t-1))))return n(e,t,o,t),!0}return this.vel.x*=-1,!1}tryMove(e,t,r,n,a,i){if(r>=0&&r<a.width&&n>=0&&n<a.height){const o=a.get(r,n);if(this.isSwappable(o))return i(e,t,r,n),!0}return!1}};const bt=class extends mt{constructor(){super(),this.vel={x:Math.random()>.5?-1:1,y:-1},this.gravity=.1,this.maxFallSpeed=10,this.frictionFactor=.9,this.gravityAccumulator=0}isSwappable(e){return e instanceof ht||e instanceof vt||e instanceof yt}applyGravity(){if(this.gravityAccumulator+=this.gravity,this.gravityAccumulator>=1){const e=Math.floor(this.gravityAccumulator);this.vel.y=Math.max(this.vel.y-e,-this.maxFallSpeed),this.gravityAccumulator-=e}}capVelocity(){this.vel.x=Math.max(-10,Math.min(10,this.vel.x)),this.vel.y=Math.max(-this.maxFallSpeed,Math.min(0,this.vel.y))}tryRandomDiagonalMovement(e,t,r,n){const a=[{dx:-1,dy:Math.floor(this.vel.y)},{dx:1,dy:Math.floor(this.vel.y)}];for(let i=a.length-1;i>0;i--){const e=Math.floor(Math.random()*(i+1));[a[i],a[e]]=[a[e],a[i]]}for(const{dx:i,dy:o}of a)if(this.tryMove(e,t,e+i,t+o,r,n))return!0;return!1}behavior(e,t,r,n){this.applyGravity(),this.capVelocity(),this.tryMove(e,t,e,t+Math.floor(this.vel.y),r,n)||this.tryRandomDiagonalMovement(e,t,r,n)||(this.vel.x*=this.frictionFactor,this.vel.y=-1)}tryMove(e,t,r,n,a,i){if(r>=0&&r<a.width&&n>=0&&n<a.height){const o=a.get(r,n);if(this.isSwappable(o))return i(e,t,r,n),!0}return!1}};const gt=class extends bt{constructor(){super(),this.mass=150,this.stoppedMovingThreshold=5}};const xt=class extends bt{};const wt=class extends mt{};const St=class extends wt{};const At=class extends wt{};const Et=class extends yt{};const _t=class extends vt{};const kt={Empty:ht,Sand:gt,Dirt:xt,Stone:St,Wood:At,Water:Et,Helium:_t,Rainbow:class extends bt{}};var Ot=r(709),Ct=r.n(Ot);var Tt=r(579);const jt=10,Dt=16,Rt=e=>{let{rows:t,cols:r,selectedElement:n,brushSize:a,simulationState:i,setSimulationState:o,showChunks:u}=e;const f=(0,s.useRef)(null),c=(0,s.useRef)(null),[l,d]=(0,s.useState)(0),p=(0,s.useRef)(null),m=(0,s.useRef)({texture:null,drawGrid:null}),h=(0,s.useRef)(new Set),v=(0,s.useRef)(n),y=(0,s.useRef)(a),b=(0,s.useRef)(null),g=(0,s.useRef)(!1),[x,w]=(0,s.useState)(1),[S,A]=(0,s.useState)({x:null,y:null});(0,s.useEffect)((()=>{v.current=n}),[n]),(0,s.useEffect)((()=>{y.current=a}),[a]),(0,s.useEffect)((()=>{const e=()=>{const e=c.current;if(!e)return;const n=e.parentElement,a=n.offsetWidth,i=n.offsetHeight,o=a/(r*jt),s=i/(t*jt);w(Math.min(o,s))};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[r,t]);const E=s.useCallback(((e,n)=>{const a=Math.floor(e/Dt),i=Math.floor(n/Dt);[{dx:0,dy:0},{dx:-1,dy:0},{dx:1,dy:0},{dx:0,dy:-1},{dx:0,dy:1},{dx:-1,dy:-1},{dx:1,dy:-1},{dx:-1,dy:1},{dx:1,dy:1}].forEach((e=>{let{dx:n,dy:o}=e;const s=a+n,u=i+o;s>=0&&s<Math.ceil(r/Dt)&&u>=0&&u<Math.ceil(t/Dt)&&h.current.add("".concat(s,",").concat(u))}))}),[r,t]),_=s.useCallback(((e,t)=>{const r=Array.from({length:t},(()=>Array.from({length:e},(()=>new ht)))),n=new Uint8Array(e*t*4).fill(0);return{grid:r,colorBuffer:n,get:(n,a)=>n>=0&&n<e&&a>=0&&a<t?r[a][n]:new ht,set:(a,i)=>{const o=kt[v.current];if(a>=0&&a<e&&i>=0&&i<t&&o){r[i][a]=new o;const t=4*(i*e+a);n.set(r[i][a].getColor(),t),E(a,i)}},move:(a,i,o,s)=>{if(a>=0&&a<e&&i>=0&&i<t&&o>=0&&o<e&&s>=0&&s<t&&(a!==o||i!==s)){const t=r[s][o];r[s][o]=r[i][a],r[i][a]=t;const u=4*(i*e+a),f=4*(s*e+o);n.set(r[i][a].getColor(),u),n.set(r[s][o].getColor(),f),E(o,s)}},width:e,height:t}}),[E]),k=s.useCallback((e=>{if("paused"===i)return;"step"===i&&o("paused");const{get:t,move:r,width:n,height:a}=e,s=Array.from({length:a},(()=>Array(n).fill(!1))),u=Array.from(h.current);h.current.clear();for(const i of u){const[o,u]=i.split(",").map(Number),f=o*Dt,c=u*Dt,l=Math.min(f+Dt,n),d=Math.min(c+Dt,a);for(let n=c;n<d;n++){const a=Math.random()>.5?{start:f,end:l,step:1}:{start:l-1,end:f-1,step:-1};for(let i=a.start;i!==a.end;i+=a.step){if(s[n][i])continue;const a=t(i,n);if(a instanceof ht||a.isStatic())continue;const o=(e,t,n,a)=>{r(e,t,n,a),s[t][e]=!0,s[a][n]=!0};a.behavior(i,n,e,o)}}}}),[i,o]),O=s.useCallback((e=>{const{texture:n}=m.current;n&&n.subimage({data:e,width:r,height:t})}),[r,t]),C=s.useCallback((()=>{const e=S,t=c.current.getContext("2d"),r=y.current;if(t.clearRect(0,0,t.canvas.width,t.canvas.height),null===e.x||null===e.y)return;const n="Empty"===v.current,a=n?"red":"blue",i=n?"rgba(255, 0, 0, 0.2)":"rgba(0, 0, 255, 0.2)";t.strokeStyle=a,t.lineWidth=2;const o=t.canvas.height,s=e.x,u=o-e.y*jt-jt;for(let f=-r;f<=r;f++)for(let e=-r;e<=r;e++){const n=e*e+f*f;if(n<=r*r&&n>(r-1)*(r-1)){const r=(s+e)*jt;t.fillStyle=i,t.fillRect(r,u+f*jt,jt,jt),t.beginPath(),t.moveTo(r,u+f*jt),t.lineTo(r+jt,u+f*jt),t.stroke(),t.beginPath(),t.moveTo(r,u+f*jt),t.lineTo(r,u+(f+1)*jt),t.stroke()}}}),[y,S,v]);return(0,s.useEffect)((()=>{const e=setInterval((()=>{(()=>{const e=b.current,n=e.getContext("2d");if(!u)return void n.clearRect(0,0,e.width,e.height);const a=e.height;n.clearRect(0,0,e.width,e.height),n.save(),n.scale(1,-1),n.translate(0,-a);const i=Math.ceil(r/Dt),o=Math.ceil(t/Dt);for(let t=0;t<o;t++)for(let e=0;e<i;e++){const r="".concat(e,",").concat(t),a=h.current.has(r);n.fillStyle=a?"rgba(0, 255, 0, 0.2)":"rgba(255, 0, 0, 0.2)";const i=e*Dt*jt,o=t*Dt*jt;n.fillRect(i,o,160,160)}n.strokeStyle="rgba(0, 255, 0, 0.5)",n.lineWidth=1;for(let t=0;t<=r;t+=Dt){const e=t*jt;n.beginPath(),n.moveTo(e,0),n.lineTo(e,a),n.stroke()}for(let s=0;s<=t;s+=Dt){const e=s*jt;n.beginPath(),n.moveTo(0,e),n.lineTo(r*jt,e),n.stroke()}n.restore()})()}),16);return()=>clearInterval(e)}),[r,t,u]),(0,s.useEffect)((()=>{p.current=_(r,t);const e=f.current,{texture:n,drawGrid:a}=((e,t,r)=>{const n=Ct()({canvas:e,attributes:{depth:!1}}),a=n.texture({width:t,height:r,data:new Uint8Array(t*r*4).fill(0),format:"rgba",type:"uint8"}),i=n({frag:"\n    precision mediump float;\n    varying vec2 uv;\n    uniform sampler2D stateTexture;\n\n    void main() {\n      vec4 cellState = texture2D(stateTexture, uv);\n      gl_FragColor = cellState.a > 0.0 ? cellState : vec4(0.0, 0.0, 0.0, 1.0);\n    }\n  ",vert:"\n    attribute vec2 position;\n    varying vec2 uv;\n\n    void main() {\n      uv = 0.5 * (position + 1.0);\n      gl_Position = vec4(position, 0, 1);\n    }\n  ",attributes:{position:[[-1,-1],[1,-1],[1,1],[-1,1]]},uniforms:{stateTexture:a},count:4,primitive:"triangle fan"});return{context:n,texture:a,drawGrid:i}})(e,r,t);m.current={texture:n,drawGrid:a};const i=c.current;i.addEventListener("mousedown",(e=>{0===e.button&&(g.current=!0)})),i.addEventListener("mousemove",(e=>{const{gridX:n,gridY:a}=(e=>{const n=c.current.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,o=n.width/(r*jt),s=n.height/(t*jt);return{gridX:Math.floor(a/(jt*o)),gridY:Math.floor(t-i/(jt*s))}})(e);A({x:n,y:a}),g.current&&((e,t)=>{const r=kt[v.current];if(!p.current||!r)return;const{set:n}=p.current,a=y.current;for(let i=-a;i<=a;i++)for(let o=-a;o<=a;o++)o*o+i*i<a*a&&n(e+o,t+i,r)})(n,a)})),document.addEventListener("mouseup",(()=>{g.current=!1}))}),[_,r,t]),(0,s.useEffect)((()=>{let e=performance.now(),t=0,r=0;const n=setInterval((()=>{if(!p.current)return;const{colorBuffer:n}=p.current,a=performance.now();k(p.current),O(n),(()=>{const{drawGrid:e}=m.current;e&&e()})();const i=performance.now();r+=i-a,t++;const o=performance.now();if(o-e>=1e3){d((r/t).toFixed(2)),t=0,r=0,e=o}}),16);return()=>clearInterval(n)}),[k,O]),(0,s.useEffect)((()=>{C(S)}),[S,a,n,C]),(0,Tt.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},children:[(0,Tt.jsx)("canvas",{ref:f,width:r*jt,height:t*jt,style:{transform:"scale(".concat(x,")"),transformOrigin:"top left",zIndex:1}}),(0,Tt.jsx)("canvas",{ref:b,width:r*jt,height:t*jt,style:{transform:"scale(".concat(x,")"),transformOrigin:"top left",position:"absolute",zIndex:2,pointerEvents:"none"}}),(0,Tt.jsx)("canvas",{ref:c,width:r*jt,height:t*jt,style:{transform:"scale(".concat(x,")"),transformOrigin:"top left",zIndex:2}}),(0,Tt.jsxs)("div",{style:{transform:"scale(".concat(x,")"),transformOrigin:"top left",position:"absolute",color:"white",fontSize:"30px",padding:"40px",fontFamily:"Tahoma, Arial, sans-serif",fontWeight:"bold",zIndex:1},children:[(0,Tt.jsxs)("p",{children:["TPS: ",l," ms"]}),(0,Tt.jsxs)("p",{children:["Selected: ",n]}),(0,Tt.jsxs)("p",{children:["Position: ",S.x,",",S.y]})]})]})};const Mt=function(){const[e,t]=(0,s.useState)("Sand"),[r,n]=(0,s.useState)(1),[a,i]=(0,s.useState)({visible:!1,x:0,y:0}),[o,u]=(0,s.useState)(null),[f,c]=(0,s.useState)("running"),[l,d]=(0,s.useState)(!0),p=()=>{i({visible:!1,x:0,y:0}),u(null)},m=e=>u((t=>t===e?null:e)),h=e=>{t(e),p()};return(0,Tt.jsxs)("div",{className:"app-container",onWheel:e=>{a.visible||n((t=>Math.max(1,Math.min(21,t+(e.deltaY<0?2:-2)))))},onContextMenu:e=>{e.preventDefault(),i({visible:!0,x:e.clientX,y:e.clientY})},onClick:p,children:[(0,Tt.jsx)(Rt,{rows:300,cols:300,selectedElement:e,brushSize:r,simulationState:f,setSimulationState:c,showChunks:l}),a.visible&&(0,Tt.jsxs)("ul",{className:"context-menu",style:{top:"".concat(a.y,"px"),left:"".concat(a.x,"px")},children:[(0,Tt.jsxs)("li",{className:"context-menu-item has-submenu",onMouseEnter:()=>m("CREATE"),onMouseLeave:()=>m(null),children:["Create","CREATE"===o&&(0,Tt.jsx)("ul",{className:"context-submenu",children:Object.keys(kt).map((e=>(0,Tt.jsx)("li",{className:"context-menu-item",onClick:()=>h(e),children:e},e)))})]}),(0,Tt.jsx)("li",{className:"context-menu-item",onClick:()=>h("Empty"),children:"Delete"}),(0,Tt.jsx)("hr",{className:"context-menu-divider"}),(0,Tt.jsx)("li",{className:"context-menu-item",onClick:()=>{c((e=>"paused"===e?"running":"paused")),p()},children:"paused"===f?"Resume":"Pause"}),(0,Tt.jsx)("li",{className:"context-menu-item",onClick:()=>{c("step"),p()},children:"Step"}),(0,Tt.jsx)("li",{className:"context-menu-item",onClick:()=>{d((e=>!e)),i({visible:!1,x:0,y:0})},children:l?"Hide Chunks":"Show Chunks"})]})]})},Pt=e=>{e&&e instanceof Function&&r.e(488).then(r.bind(r,488)).then((t=>{let{getCLS:r,getFID:n,getFCP:a,getLCP:i,getTTFB:o}=t;r(e),n(e),a(e),i(e),o(e)}))};lt.createRoot(document.getElementById("root")).render((0,Tt.jsx)(s.StrictMode,{children:(0,Tt.jsx)(rt,{basename:"/elementsim",children:(0,Tt.jsx)(Mt,{})})})),Pt()})()})();
//# sourceMappingURL=main.1ba22b73.js.map